import{_ as e,c as l,a,o as i}from"./app-CD1YpnS1.js";const n={};function d(r,t){return i(),l("div",null,[...t[0]||(t[0]=[a('<h2 id="_1-http协议和tcp协议" tabindex="-1"><a class="header-anchor" href="#_1-http协议和tcp协议"><span>1.HTTP协议和TCP协议</span></a></h2><p><img src="http://img.zhufengpeixun.cn/tpchttp.png" alt="tcp-http"></p><h2 id="_1-1-长链接" tabindex="-1"><a class="header-anchor" href="#_1-1-长链接"><span>1.1 长链接</span></a></h2><p><img src="http://img.zhufengpeixun.cn/connection.png" alt="long"></p><p><img src="http://img.zhufengpeixun.cn/keepalive.png" alt="keepalive"></p><h2 id="_1-2-管线化" tabindex="-1"><a class="header-anchor" href="#_1-2-管线化"><span>1.2 管线化</span></a></h2><p><img src="http://img.zhufengpeixun.cn/pipeline.png" alt="pipeline"></p><h2 id="_2-uri和url" tabindex="-1"><a class="header-anchor" href="#_2-uri和url"><span>2. URI和URL</span></a></h2><h3 id="_2-1-uri" tabindex="-1"><a class="header-anchor" href="#_2-1-uri"><span>2.1 URI</span></a></h3><p>URI(Uniform Resource Identifier)是统一资源标识符,在某个规则下能把这个资源独一无二标示出来，比如人的身份证号</p><ul><li>Uniform 不用根据上下文来识别资源指定的访问方式</li><li>Resource 可以标识的任何东西</li><li>Identifier 表示可标识的对象</li></ul><h3 id="_2-2-url" tabindex="-1"><a class="header-anchor" href="#_2-2-url"><span>2.2 URL</span></a></h3><p>统一资源定位符，表示资源的地点，URL时使用浏览器访问WEB页面时需要输入的网页地址</p><ul><li>Uniform 不用根据上下文来识别资源指定的访问方式</li><li>Resource 可以标识的任何东西</li><li>Location 定位</li></ul><h3 id="_2-2-1-url的格式" tabindex="-1"><a class="header-anchor" href="#_2-2-1-url的格式"><span>2.2.1 URL的格式</span></a></h3><p><img src="http://img.zhufengpeixun.cn/urlformat.png" alt="url"></p><ul><li>协议类型</li><li>登录信息</li><li>服务器地址</li><li>服务器端口号</li><li>带层次的文件路径</li><li>查询字符串</li><li>片段标识符</li></ul><h2 id="_3-http" tabindex="-1"><a class="header-anchor" href="#_3-http"><span>3. HTTP</span></a></h2><ul><li>请求的一方叫客户端，响应的一方叫服务器端</li><li>通过请求和响应达成通信</li><li>HTTP是一种不保存状态的协议</li></ul><h3 id="_3-1-请求报文" tabindex="-1"><a class="header-anchor" href="#_3-1-请求报文"><span>3.1 请求报文</span></a></h3><p><img src="http://img.zhufengpeixun.cn/request.png" alt="request"></p><p><img src="http://img.zhufengpeixun.cn/requestheader.png" alt="request-header"></p><ul><li><p>请求行</p><ul><li><p>方法</p><ul><li><p>GET 获取资源</p></li><li><p>POST 向服务器端发送数据，传输实体主体</p></li><li><p>PUT 传输文件</p></li><li><p>HEAD 获取报文首部</p></li><li><p>DELETE 删除文件</p></li><li><p>OPTIONS 询问支持的方法</p></li><li><p>TRACE 追踪路径</p></li><li><p><img src="http://img.zhufengpeixun.cn/trace.png" alt="trace"></p></li></ul></li><li><p>协议/版本号</p></li><li><p>URL</p></li></ul></li><li><p>请求头</p><ul><li>通用首部(General Header)</li><li>请求首部(Request Header)</li><li>响应首部(Response Header)</li><li>实体首部(Entity Header Fields)</li></ul></li><li><p>请求体</p></li></ul><h3 id="_3-2-响应报文" tabindex="-1"><a class="header-anchor" href="#_3-2-响应报文"><span>3.2 响应报文</span></a></h3><ul><li><img src="http://img.zhufengpeixun.cn/response.png" alt="response"></li><li><img src="http://img.zhufengpeixun.cn/responseheader.png" alt="responseheader"></li><li>响应行</li><li>响应头</li><li>响应体</li></ul><h3 id="_3-3-编码" tabindex="-1"><a class="header-anchor" href="#_3-3-编码"><span>3.3 编码</span></a></h3><p>HTTP可以在传输的过程中通过编码提升传输效率，但是会消耗更多的CPU时间。</p><h3 id="_3-3-1-编码压缩" tabindex="-1"><a class="header-anchor" href="#_3-3-1-编码压缩"><span>3.3.1 编码压缩</span></a></h3><p>发送文件时可以先用ZIP压缩功能后再发送文件</p><p><img src="http://img.zhufengpeixun.cn/compress.png" alt="encoding"></p><ul><li>gzip</li><li>compress</li><li>deflate</li><li>identify</li></ul><h3 id="_3-3-2-分割发送的分块传输编码" tabindex="-1"><a class="header-anchor" href="#_3-3-2-分割发送的分块传输编码"><span>3.3.2 分割发送的分块传输编码</span></a></h3><p>请求的实体在尚未传输完成前浏览器不能显示。所以在传输大容量数据时，通过把数据分割成多块，能让浏览器逐步显示页面。</p><p><img src="http://img.zhufengpeixun.cn/encoding.png" alt="encoding"></p><h3 id="_3-3-3-多部分对象集合" tabindex="-1"><a class="header-anchor" href="#_3-3-3-多部分对象集合"><span>3.3.3 多部分对象集合</span></a></h3><ul><li>一份报文主体中可以包含多类型实体。</li><li>使用boundary字符串来划分多部分对象指明的各类实体。在各个实体起始行之前插入**--<strong>标记,多部分对象集合最后插入</strong>--**标记</li></ul><p><img src="http://img.zhufengpeixun.cn/mime.png" alt="mime"></p><h4 id="_3-3-3-1-multiparty-form-data" tabindex="-1"><a class="header-anchor" href="#_3-3-3-1-multiparty-form-data"><span>3.3.3.1 multiparty/form-data</span></a></h4><p>上传表单时使用multiparty/form-data</p><p><img src="http://img.zhufengpeixun.cn/form-data.png" alt="form-data"></p><h4 id="_3-3-3-2-multipart-byteranges-206-particial-content" tabindex="-1"><a class="header-anchor" href="#_3-3-3-2-multipart-byteranges-206-particial-content"><span>3.3.3.2 multipart/byteranges 206(Particial Content)</span></a></h4><p>状态码(Partical Content)响应报文中包含多个范围时使用</p><ul><li><img src="http://img.zhufengpeixun.cn/byteranges.png" alt="byteranges"></li></ul><h3 id="_3-3-4-获取部分内容的范围请求" tabindex="-1"><a class="header-anchor" href="#_3-3-4-获取部分内容的范围请求"><span>3.3.4 获取部分内容的范围请求</span></a></h3><p>为了实现中断恢复下载的需求，需要能下载指定下载的实体范围</p><ul><li>请求头中的Range来指定 资源的byte范围</li><li>响应会返回状态码206响应报文</li><li>对于多重范围的范围请求，响应会在首部字段<code>Content-Type</code>中标明<code>multipart/byteranges</code></li><li><img src="http://img.zhufengpeixun.cn/partial.png" alt="partial"></li><li><img src="http://img.zhufengpeixun.cn/bytes.png" alt="bytes"></li></ul><h3 id="_3-4-内容协商" tabindex="-1"><a class="header-anchor" href="#_3-4-内容协商"><span>3.4 内容协商</span></a></h3><ul><li>首部字段 <ul><li>Accept</li><li>Accept-Charset</li><li>Accept-Encoding</li><li>Accept-Language</li><li>Content-Language</li></ul></li><li>协商类型 <ul><li>服务器驱动</li><li>客户端驱动协商</li><li>透明协商</li></ul></li></ul><h3 id="_3-5-状态码" tabindex="-1"><a class="header-anchor" href="#_3-5-状态码"><span>3.5 状态码</span></a></h3><p>状态码负责表示客户端请求的返回结果、标记服务器端是否正常、通知出现的错误</p><h4 id="_3-5-1-状态码类别" tabindex="-1"><a class="header-anchor" href="#_3-5-1-状态码类别"><span>3.5.1 状态码类别</span></a></h4><table><thead><tr><th style="text-align:left;">类别</th><th style="text-align:left;">原因短语</th></tr></thead><tbody><tr><td style="text-align:left;">1XX</td><td style="text-align:left;">Informational(信息性状态码)</td></tr><tr><td style="text-align:left;">2XX</td><td style="text-align:left;">Success(成功状态码)</td></tr><tr><td style="text-align:left;">3XX</td><td style="text-align:left;">Redirection(重定向)</td></tr><tr><td style="text-align:left;">4XX</td><td style="text-align:left;">Client Error(客户端错误状态码)</td></tr><tr><td style="text-align:left;">5XX</td><td style="text-align:left;">Server Error(服务器错误状态吗)</td></tr></tbody></table><h4 id="_3-5-2-2xx-成功" tabindex="-1"><a class="header-anchor" href="#_3-5-2-2xx-成功"><span>3.5.2 2XX 成功</span></a></h4><ul><li>200(OK 客户端发过来的数据被正常处理</li><li>204(Not Content 正常响应，没有实体</li><li>206(Partial Content 范围请求，返回部分数据，响应报文中由Content-Range指定实体内容</li></ul><h4 id="_3-5-3-3xx-重定向" tabindex="-1"><a class="header-anchor" href="#_3-5-3-3xx-重定向"><span>3.5.3 3XX 重定向</span></a></h4><ul><li>301(Moved Permanently) 永久重定向</li><li>302(Found) 临时重定向，规范要求方法名不变，但是都会改变</li><li>303(See Other) 和302类似，但必须用GET方法</li><li>304(Not Modified) 状态未改变\b 配合(If-Match、If-Modified-Since、If-None_Match、If-Range、If-Unmodified-Since)</li><li>307(Temporary Redirect) 临时重定向，不该改变请求方法</li></ul><h4 id="_3-5-4-4xx-客户端错误" tabindex="-1"><a class="header-anchor" href="#_3-5-4-4xx-客户端错误"><span>3.5.4 4XX 客户端错误</span></a></h4><ul><li>400(Bad Request) 请求报文语法错误</li><li>401 (unauthorized) 需要认证</li><li>403(Forbidden) 服务器拒绝访问对应的资源</li><li>404(Not Found) 服务器上无法找到资源</li></ul><h4 id="_3-5-5-5xx-服务器端错误" tabindex="-1"><a class="header-anchor" href="#_3-5-5-5xx-服务器端错误"><span>3.5.5 5XX 服务器端错误</span></a></h4><ul><li>500(Internal Server Error)服务器故障</li><li>503(Service Unavailable) 服务器处于超负载或正在停机维护</li></ul><h2 id="_4-web服务器" tabindex="-1"><a class="header-anchor" href="#_4-web服务器"><span>4. Web服务器</span></a></h2><h3 id="_4-1-虚拟主机-virtual-host" tabindex="-1"><a class="header-anchor" href="#_4-1-虚拟主机-virtual-host"><span>4.1 虚拟主机(Virtual Host)</span></a></h3><p>一台HTTP服务器上搭建多个Web站点,客户端发送请求时必须在Host首部完整指定主机名或域名的URL</p><h3 id="_4-2-通信转发程序-代理、网关" tabindex="-1"><a class="header-anchor" href="#_4-2-通信转发程序-代理、网关"><span>4.2 通信转发程序:代理、网关</span></a></h3><h4 id="_4-2-1-代理" tabindex="-1"><a class="header-anchor" href="#_4-2-1-代理"><span>4.2.1 代理</span></a></h4><p>代理就是客户端和服务器的中间人</p><p><img src="http://img.zhufengpeixun.cn/proxy.png" alt="proxy"></p><h5 id="_4-2-1-1-为啥使用代理" tabindex="-1"><a class="header-anchor" href="#_4-2-1-1-为啥使用代理"><span>4.2.1.1 为啥使用代理</span></a></h5><ul><li>利用缓存技术减少网络流量</li><li>组织内部针对网站进行访问控制</li><li>获取访问日志</li></ul><h5 id="_4-2-1-2-代理的分类" tabindex="-1"><a class="header-anchor" href="#_4-2-1-2-代理的分类"><span>4.2.1.2 代理的分类</span></a></h5><ul><li>缓存代理 会预先把资源副本保存在服务器上</li><li>透明代理 不对报文进行任何加工</li></ul><h4 id="_4-2-2-网关" tabindex="-1"><a class="header-anchor" href="#_4-2-2-网关"><span>4.2.2 网关</span></a></h4><p>接收从客户端发送来的数据时，会转发给其他服务器处理，再由自己返回</p><ul><li>使通信线路上的服务器提供非HTTP协议服务</li><li>提高通信安全性</li></ul><p><img src="http://img.zhufengpeixun.cn/gate-way.png" alt="encoding"></p><h2 id="_5-首部" tabindex="-1"><a class="header-anchor" href="#_5-首部"><span>5. 首部</span></a></h2><h3 id="_5-1-通用首部字段" tabindex="-1"><a class="header-anchor" href="#_5-1-通用首部字段"><span>5.1 通用首部字段</span></a></h3><table><thead><tr><th style="text-align:left;">首部字段名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">Cache-Control</td><td style="text-align:left;">控制缓存行为</td></tr><tr><td style="text-align:left;">Connection</td><td style="text-align:left;">链接的管理</td></tr><tr><td style="text-align:left;">Date</td><td style="text-align:left;">报文日期</td></tr><tr><td style="text-align:left;">Pragma</td><td style="text-align:left;">报文指令</td></tr><tr><td style="text-align:left;">Trailer</td><td style="text-align:left;">报文尾部的首部</td></tr><tr><td style="text-align:left;">Trasfer-Encoding</td><td style="text-align:left;">指定报文主体的传输编码方式</td></tr><tr><td style="text-align:left;">Upgrade</td><td style="text-align:left;">升级为其他协议</td></tr><tr><td style="text-align:left;">Via</td><td style="text-align:left;">代理服务器信息</td></tr><tr><td style="text-align:left;">Warning</td><td style="text-align:left;">错误通知</td></tr></tbody></table><h3 id="_5-2-请求首部字段" tabindex="-1"><a class="header-anchor" href="#_5-2-请求首部字段"><span>5.2 请求首部字段</span></a></h3><table><thead><tr><th style="text-align:left;">首部字段名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">Accept</td><td style="text-align:left;">用户代理可处理的媒体类型</td></tr><tr><td style="text-align:left;">Accept-Charset</td><td style="text-align:left;">优先的字符集</td></tr><tr><td style="text-align:left;">Accept-Encoding</td><td style="text-align:left;">优先的编码</td></tr><tr><td style="text-align:left;">Accept-Langulage</td><td style="text-align:left;">优先的语言</td></tr><tr><td style="text-align:left;">Authorization</td><td style="text-align:left;">Web认证信息</td></tr><tr><td style="text-align:left;">Expect</td><td style="text-align:left;">期待服务器的特定行为</td></tr><tr><td style="text-align:left;">From</td><td style="text-align:left;">用户的电子邮箱地址</td></tr><tr><td style="text-align:left;">Host</td><td style="text-align:left;">请求资源所在的服务器</td></tr><tr><td style="text-align:left;">If-Match</td><td style="text-align:left;">比较实体标记</td></tr><tr><td style="text-align:left;">If-Modified-Since</td><td style="text-align:left;">比较资源的更新时间</td></tr><tr><td style="text-align:left;">If-None-Match</td><td style="text-align:left;">比较实体标记</td></tr><tr><td style="text-align:left;">If-Range</td><td style="text-align:left;">资源未更新时发送实体Byte的范围请求</td></tr><tr><td style="text-align:left;">If-Unmodified-Since</td><td style="text-align:left;">比较资源的更新时间(和If-Modified-Since相反)</td></tr><tr><td style="text-align:left;">Max-Forwards</td><td style="text-align:left;">最大传输跳数</td></tr><tr><td style="text-align:left;">Proxy-Authorization</td><td style="text-align:left;">代理服务器需要客户端认证</td></tr><tr><td style="text-align:left;">Range</td><td style="text-align:left;">实体字节范围请求</td></tr><tr><td style="text-align:left;">Referer</td><td style="text-align:left;">请求中的URI的原始获取方</td></tr><tr><td style="text-align:left;">TE</td><td style="text-align:left;">传输编码的优先级</td></tr><tr><td style="text-align:left;">User-Agent</td><td style="text-align:left;">HTTP客户端程序的信息</td></tr></tbody></table><h3 id="_5-3-响应首部字段" tabindex="-1"><a class="header-anchor" href="#_5-3-响应首部字段"><span>5.3 响应首部字段</span></a></h3><table><thead><tr><th style="text-align:left;">首部字段名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">Accept-Ranges</td><td style="text-align:left;">是否接受字节范围</td></tr><tr><td style="text-align:left;">Age</td><td style="text-align:left;">资源的创建时间</td></tr><tr><td style="text-align:left;">ETag</td><td style="text-align:left;">资源的匹配信息</td></tr><tr><td style="text-align:left;">Location</td><td style="text-align:left;">客户端重定向至指定的URI</td></tr><tr><td style="text-align:left;">Proxy-Authenticate</td><td style="text-align:left;">代理服务器对客户端的认证信息</td></tr><tr><td style="text-align:left;">Retry-After</td><td style="text-align:left;">再次发送请求的时机</td></tr><tr><td style="text-align:left;">Server</td><td style="text-align:left;">服务器的信息</td></tr><tr><td style="text-align:left;">Vary</td><td style="text-align:left;">代理服务器缓存的管理信息</td></tr><tr><td style="text-align:left;">www-Authenticate</td><td style="text-align:left;">服务器对客户端的认证</td></tr></tbody></table><h3 id="_5-4-实体首部字段" tabindex="-1"><a class="header-anchor" href="#_5-4-实体首部字段"><span>5.4 实体首部字段</span></a></h3><table><thead><tr><th style="text-align:left;">首部字段名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">Allow</td><td style="text-align:left;">资源可支持的HTTP方法</td></tr><tr><td style="text-align:left;">Content-Encoding</td><td style="text-align:left;">实体的编码方式</td></tr><tr><td style="text-align:left;">Content-Language</td><td style="text-align:left;">实体的自然语言</td></tr><tr><td style="text-align:left;">Content-Length</td><td style="text-align:left;">实体的内容大小(字节为单位)</td></tr><tr><td style="text-align:left;">Content-Location</td><td style="text-align:left;">替代对应资源的URI</td></tr><tr><td style="text-align:left;">Content-MD5</td><td style="text-align:left;">实体的报文摘要</td></tr><tr><td style="text-align:left;">Content-Range</td><td style="text-align:left;">实体的位置范围</td></tr><tr><td style="text-align:left;">Content-Type</td><td style="text-align:left;">实体主体的媒体类型</td></tr><tr><td style="text-align:left;">Expires</td><td style="text-align:left;">实体过期时间</td></tr><tr><td style="text-align:left;">Last-Modified</td><td style="text-align:left;">资源的最后修改时间</td></tr></tbody></table>',84)])])}const h=e(n,[["render",d]]),p=JSON.parse('{"path":"/strong/14.http-1.html","title":"","lang":"en-US","frontmatter":{},"git":{"updatedTime":1681290319000,"contributors":[{"name":"yutao","username":"yutao","email":"642231346@qq.com","commits":1,"url":"https://github.com/yutao"}],"changelog":[{"hash":"f5ab8c9d34991ec274f7f652439afe5b2afb6147","time":1681290319000,"email":"642231346@qq.com","author":"yutao","message":"modify"}]},"filePathRelative":"strong/14.http-1.md"}');export{h as comp,p as data};
