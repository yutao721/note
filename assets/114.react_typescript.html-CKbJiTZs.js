import{_ as r,c as d,a as l,b as n,d as a,w as e,r as t,o as u,e as p}from"./app-CD1YpnS1.js";const k={};function v(m,s){const i=t("type"),o=t("scope"),c=t("subject");return u(),d("div",null,[s[5]||(s[5]=l(`<h2 id="_1-typescript工程化开发" tabindex="-1"><a class="header-anchor" href="#_1-typescript工程化开发"><span>1. TypeScript工程化开发</span></a></h2><ul><li>前端工程化就是通过流程规范化、标准化提升团队协作效率</li><li>通过组件化、模块化提升代码质量</li><li>使用构建工具、自动化工具提升开发效率</li><li>编译 =&gt; 打包(合并) =&gt; 压缩 =&gt; 代码检查 =&gt; 测试 =&gt; 持续集成</li></ul><h2 id="_2-初始化项目" tabindex="-1"><a class="header-anchor" href="#_2-初始化项目"><span>2.初始化项目</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">mkdir zhufeng_typescript_development</span>
<span class="line">cd zhufeng_typescript_development</span>
<span class="line">npm init</span>
<span class="line"><span class="token keyword">package</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">(</span>zhufeng_typescript_development<span class="token punctuation">)</span></span>
<span class="line"><span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token number">1.0</span><span class="token number">.0</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token literal-property property">description</span><span class="token operator">:</span> TypeScript工程化开发</span>
<span class="line">entry point<span class="token operator">:</span> <span class="token punctuation">(</span>index<span class="token punctuation">.</span>js<span class="token punctuation">)</span></span>
<span class="line">test command<span class="token operator">:</span></span>
<span class="line">git repository<span class="token operator">:</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>gitee<span class="token punctuation">.</span>com<span class="token operator">/</span>zhufengpeixun<span class="token operator">/</span>zhufeng_typescript_development</span>
<span class="line"><span class="token literal-property property">keywords</span><span class="token operator">:</span> typescript<span class="token punctuation">,</span>react</span>
<span class="line"><span class="token literal-property property">author</span><span class="token operator">:</span> zhangrenyang</span>
<span class="line"><span class="token literal-property property">license</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token constant">ISC</span><span class="token punctuation">)</span> <span class="token constant">MIT</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-git规范和changelog" tabindex="-1"><a class="header-anchor" href="#_3-git规范和changelog"><span>3. git规范和changelog</span></a></h3><h4 id="_3-1-良好的git-commit好处" tabindex="-1"><a class="header-anchor" href="#_3-1-良好的git-commit好处"><span>3.1 良好的git commit好处</span></a></h4><ul><li>可以加快code review 的流程</li><li>可以根据git commit 的元数据生成changelog</li><li>可以让其它开发者知道修改的原因</li></ul><h4 id="_3-2-良好的commit" tabindex="-1"><a class="header-anchor" href="#_3-2-良好的commit"><span>3.2 良好的commit</span></a></h4><ul><li><p><a href="https://www.npmjs.com/package/commitizen" target="_blank" rel="noopener noreferrer">commitizen</a>是一个格式化commit message的工具</p></li><li><p><a href="https://www.npmjs.com/package/validate-commit-msg" target="_blank" rel="noopener noreferrer">validate-commit-msg</a> 用于检查项目的 <code>Commit message</code> 是否符合格式</p></li><li><p><a href="https://www.npmjs.com/package/conventional-changelog-cli" target="_blank" rel="noopener noreferrer">conventional-changelog-cli</a>可以从<code>git metadata</code>生成变更日志</p></li><li><p>统一团队的git commit 标准</p></li><li><p>可以使用<code>angular</code>的<code>git commit</code>日志作为基本规范</p><ul><li>提交的类型限制为 feat、fix、docs、style、refactor、perf、test、chore、revert等</li><li>提交信息分为两部分，标题(首字母不大写，末尾不要加标点)、主体内容(描述修改内容)</li></ul></li><li><p>日志提交友好的类型选择提示 使用commitize工具</p></li><li><p>不符合要求格式的日志拒绝提交 的保障机制</p><ul><li>需要使用<code>validate-commit-msg</code>工具</li></ul></li><li><p>统一changelog文档信息生成</p><ul><li>使用<code>conventional-changelog-cli</code>工具</li></ul></li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">cnpm i commitizen  validate-commit-msg conventional-changelog-cli -D</span>
<span class="line">commitizen init cz-conventional-changelog --save --save-exact</span>
<span class="line">git cz</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-3-gitignore" tabindex="-1"><a class="header-anchor" href="#_3-3-gitignore"><span>3.3 .gitignore</span></a></h4><p>.gitignore</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">node_modules</span>
<span class="line">.vscode</span>
<span class="line">dist</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-4-提交的格式" tabindex="-1"><a class="header-anchor" href="#_3-4-提交的格式"><span>3.4 提交的格式</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">&lt;type&gt;(&lt;scope&gt;):&lt;subject/&gt;</span>
<span class="line">&lt;BLANK LINE&gt;</span>
<span class="line">&lt;body&gt;</span>
<span class="line">&lt;BLANK LINE&gt;</span>
<span class="line">&lt;footer&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,15)),n("ul",null,[n("li",null,[a(i,null,{default:e(()=>[...s[0]||(s[0]=[p("代表某次提交的类型，比如是修复bug还是增加feature",-1)])]),_:1})]),n("li",null,[a(o,null,{default:e(()=>[...s[1]||(s[1]=[p("表示作用域，比如一个页面或一个组件",-1)])]),_:1})]),n("li",null,[a(c,null,{default:e(()=>[...s[2]||(s[2]=[p("主题 ，概述本次提交的内容",-1)])]),_:1})]),s[3]||(s[3]=n("li",null,"详细的影响内容",-1)),s[4]||(s[4]=n("li",null,"修复的bug和issue链接",-1))]),s[6]||(s[6]=l(`<table><thead><tr><th style="text-align:left;">类型</th><th style="text-align:left;">含义</th></tr></thead><tbody><tr><td style="text-align:left;">feat</td><td style="text-align:left;">新增feature</td></tr><tr><td style="text-align:left;">fix</td><td style="text-align:left;">修复bug</td></tr><tr><td style="text-align:left;">docs</td><td style="text-align:left;">仅仅修改了文档，比如README、CHANGELOG、CONTRIBUTE等</td></tr><tr><td style="text-align:left;">style</td><td style="text-align:left;">仅仅修改了空格、格式缩进、偏好等信息，不改变代码逻辑</td></tr><tr><td style="text-align:left;">refactor</td><td style="text-align:left;">代码重构，没有新增功能或修复bug</td></tr><tr><td style="text-align:left;">perf</td><td style="text-align:left;">优化相关，提升了性能和体验</td></tr><tr><td style="text-align:left;">test</td><td style="text-align:left;">测试用例，包括单元测试和集成测试</td></tr><tr><td style="text-align:left;">chore</td><td style="text-align:left;">改变构建流程，或者添加了依赖库和工具</td></tr><tr><td style="text-align:left;">revert</td><td style="text-align:left;">回滚到上一个版本</td></tr><tr><td style="text-align:left;">ci</td><td style="text-align:left;">CI 配置，脚本文件等更新</td></tr></tbody></table><h4 id="_3-4-husky" tabindex="-1"><a class="header-anchor" href="#_3-4-husky"><span>3.4 husky</span></a></h4><ul><li><code>validate-commit-msg</code>可以来检查我们的commit规范</li><li>husky可以把<code>validate-commit-msg</code>作为一个<code>githook</code>来验证提交消息</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">cnpm i husky  validate-commit-msg --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">  &quot;husky&quot;: {</span>
<span class="line">    &quot;hooks&quot;: {</span>
<span class="line">      &quot;commit-msg&quot;: &quot;validate-commit-msg&quot;</span>
<span class="line">    }</span>
<span class="line">  }</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-5-生成changelog-md" tabindex="-1"><a class="header-anchor" href="#_3-5-生成changelog-md"><span>3.5 生成CHANGELOG.md</span></a></h4><ul><li><code>conventional-changelog-cli</code> 默认推荐的 commit 标准是来自angular项目</li><li>参数<code>-i CHANGELOG.md</code>表示从 <code>CHANGELOG.md</code> 读取 <code>changelog</code></li><li>参数 -s 表示读写 <code>CHANGELOG.md</code> 为同一文件</li><li>参数 -r 表示生成 changelog 所需要使用的 release 版本数量，默认为1，全部则是0</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">cnpm i conventional-changelog-cli -D</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">&quot;scripts&quot;: {</span>
<span class="line">    &quot;changelogs&quot;: &quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&quot;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-支持typescript" tabindex="-1"><a class="header-anchor" href="#_4-支持typescript"><span>4. 支持Typescript</span></a></h2><ul><li><a href="http://www.typescriptlang.org/docs/handbook/tsconfig-json.html" target="_blank" rel="noopener noreferrer">tsconfig-json</a></li><li><a href="http://www.typescriptlang.org/docs/handbook/compiler-options.html" target="_blank" rel="noopener noreferrer">编译选项</a></li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">tsc --init</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>基本参数</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">解释</th></tr></thead><tbody><tr><td style="text-align:left;">target</td><td style="text-align:left;">用于指定编译之后的版本目标</td></tr><tr><td style="text-align:left;">module</td><td style="text-align:left;">生成的模块形式：none、commonjs、amd、system、umd、es6、es2015 或 esnext 只有 amd 和 system 能和 outFile 一起使用 target 为 es5 或更低时可用 es6 和 es2015</td></tr><tr><td style="text-align:left;">lib</td><td style="text-align:left;">编译时引入的 ES 功能库，包括：es5 、es6、es7、dom 等。如果未设置，则默认为： target 为 es5 时: [&quot;dom&quot;, &quot;es5&quot;, &quot;scripthost&quot;] target 为 es6 时: [&quot;dom&quot;, &quot;es6&quot;, &quot;dom.iterable&quot;, &quot;scripthost&quot;]</td></tr><tr><td style="text-align:left;">allowJs</td><td style="text-align:left;">是否允许编译JS文件，默认是false，即不编译JS文件</td></tr><tr><td style="text-align:left;">checkJs</td><td style="text-align:left;">是否检查和报告JS文件中的错误，默认是false</td></tr><tr><td style="text-align:left;">jsx</td><td style="text-align:left;">指定jsx代码用于的开发环境 <code>preserve</code>指保留JSX语法,扩展名为<code>.jsx</code>,react-native是指保留jsx语法，扩展名js,react指会编译成ES5语法 <a href="http://www.typescriptlang.org/docs/handbook/jsx.html" target="_blank" rel="noopener noreferrer">详解</a></td></tr><tr><td style="text-align:left;">declaration</td><td style="text-align:left;">是否在编译的时候生成相应的<code>.d.ts</code>声明文件</td></tr><tr><td style="text-align:left;">declarationDir</td><td style="text-align:left;">生成的 .d.ts 文件存放路径,默认与 .ts 文件相同</td></tr><tr><td style="text-align:left;">declarationMap</td><td style="text-align:left;">是否为声明文件.d.ts生成map文件</td></tr><tr><td style="text-align:left;">sourceMap</td><td style="text-align:left;">编译时是否生成<code>.map</code>文件</td></tr><tr><td style="text-align:left;">outFile</td><td style="text-align:left;">是否将输出文件合并为一个文件，值是一个文件路径名，只有设置<code>module</code>的值为<code>amd</code>和<code>system</code>模块时才支持这个配置</td></tr><tr><td style="text-align:left;">outDir</td><td style="text-align:left;">指定输出文件夹</td></tr><tr><td style="text-align:left;">rootDir</td><td style="text-align:left;">编译文件的根目录，编译器会在根目录查找入口文件</td></tr><tr><td style="text-align:left;">composite</td><td style="text-align:left;">是否编译构建引用项目</td></tr><tr><td style="text-align:left;">removeComments</td><td style="text-align:left;">是否将编译后的文件中的注释删掉</td></tr><tr><td style="text-align:left;">noEmit</td><td style="text-align:left;">不生成编译文件</td></tr><tr><td style="text-align:left;">importHelpers</td><td style="text-align:left;">是否引入<code>tslib</code>里的辅助工具函数</td></tr><tr><td style="text-align:left;">downlevelIteration</td><td style="text-align:left;">当target为<code>ES5</code>或<code>ES3</code>时，为<code>for-of</code>、<code>spread</code>和<code>destructuring</code>中的迭代器提供完全支持</td></tr><tr><td style="text-align:left;">isolatedModules</td><td style="text-align:left;">指定是否将每个文件作为单独的模块，默认为true</td></tr></tbody></table><p><strong>严格检查</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">解释</th></tr></thead><tbody><tr><td style="text-align:left;">strict</td><td style="text-align:left;">是否启动所有类型检查</td></tr><tr><td style="text-align:left;">noImplicitAny</td><td style="text-align:left;">不允许默认any类型</td></tr><tr><td style="text-align:left;">strictNullChecks</td><td style="text-align:left;">当设为true时，null和undefined值不能赋值给非这两种类型的值</td></tr><tr><td style="text-align:left;">strictFunctionTypes</td><td style="text-align:left;">是否使用函数参数双向协变检查</td></tr><tr><td style="text-align:left;">strictBindCallApply</td><td style="text-align:left;">是否对bind、call和apply绑定的方法的参数的检测是严格检测的</td></tr><tr><td style="text-align:left;">strictPropertyInitialization</td><td style="text-align:left;">检查类的非undefined属性是否已经在构造函数里初始化</td></tr><tr><td style="text-align:left;">noImplicitThis</td><td style="text-align:left;">不允许<code>this</code>表达式的值为<code>any</code>类型的时候</td></tr><tr><td style="text-align:left;">alwaysStrict</td><td style="text-align:left;">指定始终以严格模式检查每个模块</td></tr></tbody></table><p><strong>额外检查</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">解释</th></tr></thead><tbody><tr><td style="text-align:left;">noUnusedLocals</td><td style="text-align:left;">检查是否有定义了但是没有使用的变量</td></tr><tr><td style="text-align:left;">noUnusedParameters</td><td style="text-align:left;">检查是否有在函数体中没有使用的参数</td></tr><tr><td style="text-align:left;">noImplicitReturns</td><td style="text-align:left;">检查函数是否有返回值</td></tr><tr><td style="text-align:left;">noFallthroughCasesInSwitch</td><td style="text-align:left;">检查switch中是否有case没有使用break跳出</td></tr></tbody></table><p><strong>模块解析检查</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">解释</th></tr></thead><tbody><tr><td style="text-align:left;">moduleResolution</td><td style="text-align:left;">选择模块解析策略，有<code>node</code>和<code>classic</code>两种类型,<a href="http://www.typescriptlang.org/docs/handbook/module-resolution.html" target="_blank" rel="noopener noreferrer">详细说明</a></td></tr><tr><td style="text-align:left;">baseUrl</td><td style="text-align:left;">解析非相对模块名称的基本目录</td></tr><tr><td style="text-align:left;">paths</td><td style="text-align:left;">设置模块名到基于<code>baseUrl</code>的路径映射</td></tr><tr><td style="text-align:left;">rootDirs</td><td style="text-align:left;">可以指定一个路径列表，在构建时编译器会将这个路径列表中的路径中的内容都放到一个文件夹中</td></tr><tr><td style="text-align:left;">typeRoots</td><td style="text-align:left;">指定声明文件或文件夹的路径列表</td></tr><tr><td style="text-align:left;">types</td><td style="text-align:left;">用来指定需要包含的模块</td></tr><tr><td style="text-align:left;">allowSyntheticDefaultImports</td><td style="text-align:left;">允许从没有默认导出的模块中默认导入</td></tr><tr><td style="text-align:left;">esModuleInterop</td><td style="text-align:left;">为导入内容创建命名空间,实现CommonJS和ES模块之间的互相访问</td></tr><tr><td style="text-align:left;">preserveSymlinks</td><td style="text-align:left;">不把符号链接解析为其真实路径</td></tr></tbody></table><p><strong>sourcemap检查</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">解释</th></tr></thead><tbody><tr><td style="text-align:left;">sourceRoot</td><td style="text-align:left;">调试器应该找到TypeScript文件而不是源文件位置</td></tr><tr><td style="text-align:left;">mapRoot</td><td style="text-align:left;">调试器找到映射文件而非生成文件的位置，指定map文件的根路径</td></tr><tr><td style="text-align:left;">inlineSourceMap</td><td style="text-align:left;">指定是否将map文件的内容和js文件编译在一个同一个js文件中</td></tr><tr><td style="text-align:left;">inlineSources</td><td style="text-align:left;">是否进一步将.ts文件的内容也包含到输出文件中</td></tr></tbody></table><p><strong>试验选项</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">解释</th></tr></thead><tbody><tr><td style="text-align:left;">experimentalDecorators</td><td style="text-align:left;">是否启用实验性的装饰器特性</td></tr><tr><td style="text-align:left;">emitDecoratorMetadata</td><td style="text-align:left;">是否为装饰器提供元数据支持</td></tr></tbody></table><p><strong>试验选项</strong></p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">解释</th></tr></thead><tbody><tr><td style="text-align:left;">files</td><td style="text-align:left;">配置一个数组列表，里面包含指定文件的相对或绝对路径，编译器在编译的时候只会编译包含在files中列出的文件</td></tr><tr><td style="text-align:left;">include</td><td style="text-align:left;">include也可以指定要编译的路径列表，但是和files的区别在于，这里的路径可以是文件夹，也可以是文件</td></tr><tr><td style="text-align:left;">exclude</td><td style="text-align:left;">exclude表示要排除的、不编译的文件，他也可以指定一个列表</td></tr><tr><td style="text-align:left;">extends</td><td style="text-align:left;">extends可以通过指定一个其他的tsconfig.json文件路径，来继承这个配置文件里的配置</td></tr><tr><td style="text-align:left;">compileOnSave</td><td style="text-align:left;">在我们编辑了项目中文件保存的时候，编辑器会根据<code>tsconfig.json</code>的配置重新生成文件</td></tr><tr><td style="text-align:left;">references</td><td style="text-align:left;">一个对象数组,指定要引用的项目</td></tr></tbody></table><h2 id="_5-支持react" tabindex="-1"><a class="header-anchor" href="#_5-支持react"><span>5. 支持React</span></a></h2><h3 id="_5-1-安装" tabindex="-1"><a class="header-anchor" href="#_5-1-安装"><span>5.1 安装</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">cnpm i react react-dom @types/react @types/react-dom react-router-dom @types/react-router-dom   -S</span>
<span class="line">cnpm i webpack webpack-cli webpack-dev-server html-webpack-plugin hoist-non-react-statics -D</span>
<span class="line">cnpm i typescript ts-loader source-map-loader -D</span>
<span class="line">cnpm i redux react-redux @types/react-redux redux-thunk  redux-logger @types/redux-logger -S</span>
<span class="line">cnpm i connected-react-router -S</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:left;">包名</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:left;">react @types/react</td><td style="text-align:left;">react核心库</td></tr><tr><td style="text-align:left;">react-dom @types/react-dom</td><td style="text-align:left;">react操作DOM库</td></tr><tr><td style="text-align:left;">react-router-dom @types/react-router-dom</td><td style="text-align:left;">react路由库</td></tr><tr><td style="text-align:left;">webpack</td><td style="text-align:left;">webpack核心库</td></tr><tr><td style="text-align:left;">webpack-cli</td><td style="text-align:left;">webpack命令行文件</td></tr><tr><td style="text-align:left;">webpack-dev-server</td><td style="text-align:left;">webpack开发服务器</td></tr><tr><td style="text-align:left;">html-webpack-plugin</td><td style="text-align:left;">webpack用于生成html的插件</td></tr><tr><td style="text-align:left;">redux</td><td style="text-align:left;">全局状态管理库</td></tr><tr><td style="text-align:left;">react-redux @types/react-redux</td><td style="text-align:left;">连接react和redux的库</td></tr><tr><td style="text-align:left;">redux-thunk</td><td style="text-align:left;">可以让store派发一个函数的中间件</td></tr><tr><td style="text-align:left;">redux-logger @types/redux-logger</td><td style="text-align:left;">可以在状态改变前后打印状态的中间件</td></tr><tr><td style="text-align:left;">typescript</td><td style="text-align:left;">JavaScript语言扩展</td></tr><tr><td style="text-align:left;">ts-loader</td><td style="text-align:left;">可以让Webpack使用TypeScript的标准配置文件<code>tsconfig.json</code>编译TypeScript代码</td></tr><tr><td style="text-align:left;">source-map-loader</td><td style="text-align:left;">使用任意来自Typescript的sourcemap输出，以此通知webpack何时生成自己的sourcemaps,这让你在调试最终生成的文件时就好像在调试TypeScript源码一样</td></tr></tbody></table><ul><li>ts-loader可以让Webpack使用TypeScript的标准配置文件tsconfig.json编译TypeScript代码。</li><li>source-map-loader使用任意来自Typescript的sourcemap输出，以此通知webpack何时生成自己的sourcemaps,这让你在调试最终生成的文件时就好像在调试TypeScript源码一样。</li></ul><h3 id="_5-2-tsconfig-json" tabindex="-1"><a class="header-anchor" href="#_5-2-tsconfig-json"><span>5.2 tsconfig.json</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string-property property">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token string">&quot;src/*&quot;</span></span>
<span class="line">      <span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&quot;./src/**/*&quot;</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><table><thead><tr><th style="text-align:left;">包名</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:left;">outDir</td><td style="text-align:left;">指定输出目录</td></tr><tr><td style="text-align:left;">sourceMap</td><td style="text-align:left;">把 ts 文件编译成 js 文件的时候，同时生成对应的sourceMap文件</td></tr><tr><td style="text-align:left;">noImplicitAny</td><td style="text-align:left;">如果为true的话，TypeScript 编译器无法推断出类型时，它仍然会生成 JavaScript 文件，但是它也会报告一个错误</td></tr><tr><td style="text-align:left;">module</td><td style="text-align:left;">代码规范</td></tr><tr><td style="text-align:left;">target</td><td style="text-align:left;">转换成es5</td></tr><tr><td style="text-align:left;">jsx</td><td style="text-align:left;">react模式会生成React.createElement，在使用前不需要再进行转换操作了，输出文件的扩展名为.js</td></tr><tr><td style="text-align:left;">include</td><td style="text-align:left;">需要编译的目录</td></tr></tbody></table><h3 id="_5-3-webpack-config-js" tabindex="-1"><a class="header-anchor" href="#_5-3-webpack-config-js"><span>5.3 webpack.config.js</span></a></h3><p>webpack.config.js</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;path&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">devtool</span><span class="token operator">:</span><span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.tsx&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].[hash].js&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">contentBase</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;dist&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token string">&quot;./index.html&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;.ts&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.tsx&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.js&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;.json&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token string-property property">&quot;@&quot;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 这样配置后 @ 可以指向 src 目录</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">      <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.tsx?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&quot;ts-loader&quot;</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.html&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-3-src-index-tsx" tabindex="-1"><a class="header-anchor" href="#_5-3-src-index-tsx"><span>5.3 src\\index.tsx</span></a></h3><p>src\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&#39;react-dom&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> root <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> props <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">&#39;title&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> element<span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> props<span class="token punctuation">,</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-4-src-index-html" tabindex="-1"><a class="header-anchor" href="#_5-4-src-index-html"><span>5.4 src\\index.html</span></a></h3><p>src\\index.html</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token constant">DOCTYPE</span> html<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span>html lang<span class="token operator">=</span><span class="token string">&quot;en&quot;</span><span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span>head<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>meta charset<span class="token operator">=</span><span class="token string">&quot;UTF-8&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>meta name<span class="token operator">=</span><span class="token string">&quot;viewport&quot;</span> content<span class="token operator">=</span><span class="token string">&quot;width=device-width, initial-scale=1.0&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>title<span class="token operator">&gt;</span>typescript<span class="token operator">&lt;</span><span class="token operator">/</span>title<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>head<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;root&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>html<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-5-package-json" tabindex="-1"><a class="header-anchor" href="#_5-5-package-json"><span>5.5 package.json</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">{</span>
<span class="line">  &quot;scripts&quot;: {</span>
<span class="line">+    &quot;start&quot;: &quot;webpack serve --config webpack.config.js&quot;,</span>
<span class="line">+    &quot;build&quot;: &quot;webpack --config webpack.config.js&quot;</span>
<span class="line">    &quot;eslint&quot;: &quot;eslint src --ext .ts&quot;,</span>
<span class="line">    &quot;eslint:fix&quot;: &quot;eslint src --ext .ts --fix&quot;,</span>
<span class="line">    &quot;changelogs&quot;: &quot;conventional-changelog -p angular -i CHANGELOG.md -s -r 0&quot;,</span>
<span class="line">    &quot;test&quot;: &quot;mocha --require ts-node/register test/**/*&quot;</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-代码规范" tabindex="-1"><a class="header-anchor" href="#_6-代码规范"><span>6. 代码规范</span></a></h2><ul><li>规范的代码可以促进团队合作</li><li>规范的代码可以降低维护成本</li><li>规范的代码有助于 code review(代码审查)</li></ul><h3 id="_6-1-常见的代码规范文档" tabindex="-1"><a class="header-anchor" href="#_6-1-常见的代码规范文档"><span>6.1 常见的代码规范文档</span></a></h3><ul><li><a href="https://github.com/lin-123/javascript" target="_blank" rel="noopener noreferrer">airbnb中文版</a></li><li><a href="https://github.com/standard/standard/blob/master/docs/README-zhcn.md" target="_blank" rel="noopener noreferrer">standard中文版</a></li><li><a href="https://github.com/ecomfe/spec" target="_blank" rel="noopener noreferrer">百度前端编码规范</a></li><li><a href="https://github.com/fex-team/styleguide/blob/master/css.md" target="_blank" rel="noopener noreferrer">styleguide</a></li><li><a href="https://github.com/ecomfe/spec/blob/master/css-style-guide.md" target="_blank" rel="noopener noreferrer">CSS编码规范</a></li></ul><h3 id="_6-2-代码检查" tabindex="-1"><a class="header-anchor" href="#_6-2-代码检查"><span>6.2 代码检查</span></a></h3><ul><li><a href="https://eslint.org" target="_blank" rel="noopener noreferrer">Eslint</a> 是一款插件化的 JavaScript 静态代码检查工具，ESLint 通过规则来描述具体的检查行为</li></ul><h4 id="_6-2-1-模块安装" tabindex="-1"><a class="header-anchor" href="#_6-2-1-模块安装"><span>6.2.1 模块安装</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">cnpm i eslint typescript @typescript-eslint/parser @typescript-eslint/eslint-plugin --save-dev</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_6-2-2-eslintrc配置文件" tabindex="-1"><a class="header-anchor" href="#_6-2-2-eslintrc配置文件"><span>6.2.2 eslintrc配置文件</span></a></h4><ul><li><a href="https://eslint.org/docs/rules/" target="_blank" rel="noopener noreferrer">英文rules</a></li><li><a href="https://cn.eslint.org/docs/rules/" target="_blank" rel="noopener noreferrer">中文rules</a></li><li>需要添加<code>parserOptions</code>以支持模块化的写法</li></ul><p>.eslintrc.js</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;parser&quot;</span><span class="token operator">:</span><span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;plugins&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;@typescript-eslint&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;rules&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token string-property property">&quot;no-var&quot;</span><span class="token operator">:</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-property property">&quot;no-extra-semi&quot;</span><span class="token operator">:</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-property property">&quot;@typescript-eslint/indent&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string-property property">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-property property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-property property">&quot;ecmaFeatures&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">          <span class="token string-property property">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-2-3-代码检查" tabindex="-1"><a class="header-anchor" href="#_6-2-3-代码检查"><span>6.2.3 代码检查</span></a></h4><p>package.json</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">&quot;scripts&quot;: {</span>
<span class="line">    &quot;start&quot;: &quot;webpack&quot;,</span>
<span class="line">    &quot;build&quot;: &quot;tsc&quot;,</span>
<span class="line">+    &quot;lint&quot;: &quot;eslint src --ext .tsx&quot;,</span>
<span class="line">+    &quot;lint:fix&quot;: &quot;eslint src --ext .tsx --fix&quot;</span>
<span class="line">  }</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>src/1.ts</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">var</span> name2 <span class="token operator">=</span> <span class="token string">&#39;zhufeng&#39;</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行命令</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">npm run eslint</span>
<span class="line"><span class="token number">1</span><span class="token operator">:</span><span class="token number">1</span>   error  Unexpected <span class="token keyword">var</span><span class="token punctuation">,</span> use <span class="token keyword">let</span> or <span class="token keyword">const</span> instead      no<span class="token operator">-</span><span class="token keyword">var</span></span>
<span class="line"><span class="token number">1</span><span class="token operator">:</span><span class="token number">23</span>  error  Unnecessary semicolon                         no<span class="token operator">-</span>extra<span class="token operator">-</span>semi</span>
<span class="line"><span class="token number">1</span><span class="token operator">:</span><span class="token number">24</span>  error  Unnecessary semicolon                         no<span class="token operator">-</span>extra<span class="token operator">-</span>semi</span>
<span class="line"><span class="token number">3</span><span class="token operator">:</span><span class="token number">1</span>   error  Expected indentation <span class="token keyword">of</span> <span class="token number">2</span> spaces but found <span class="token number">4</span>  @typescript<span class="token operator">-</span>eslint<span class="token operator">/</span>indent</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_6-2-4-配置自动修复" tabindex="-1"><a class="header-anchor" href="#_6-2-4-配置自动修复"><span>6.2.4 配置自动修复</span></a></h4><ul><li>安装vscode的<a href="https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint" target="_blank" rel="noopener noreferrer">eslint</a>插件</li><li>配置自动修复参数</li></ul><p>.vscode\\settings.json</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;eslint.validate&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">        <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;javascriptreact&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;typescript&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string">&quot;typescriptreact&quot;</span></span>
<span class="line">    <span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token string-property property">&quot;source.fixAll.eslint&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-单元测试" tabindex="-1"><a class="header-anchor" href="#_7-单元测试"><span>7.单元测试</span></a></h2><h3 id="_7-1-安装配置" tabindex="-1"><a class="header-anchor" href="#_7-1-安装配置"><span>7.1 安装配置</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">cnpm i jest @types/jest ts-jest -D</span>
<span class="line">npx ts-jest config:init</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-2-src-sum-tsx" tabindex="-1"><a class="header-anchor" href="#_7-2-src-sum-tsx"><span>7.2 src\\sum.tsx</span></a></h3><p>src\\sum.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">function</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">a</span><span class="token operator">:</span> number<span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  sum</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-3-tests-sum-spec-tsx" tabindex="-1"><a class="header-anchor" href="#_7-3-tests-sum-spec-tsx"><span>7.3 tests\\sum.spec.tsx</span></a></h3><p><strong>tests</strong>\\sum.spec.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">let</span> math <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../src/sum&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;1+1=2&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">expect</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&#39;1+1=2&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">expect</span><span class="token punctuation">(</span>math<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-4-package-json" tabindex="-1"><a class="header-anchor" href="#_7-4-package-json"><span>7.4 package.json</span></a></h3><p>package.json</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">  &quot;scripts&quot;: {</span>
<span class="line">+    &quot;test&quot;: &quot;jest&quot;</span>
<span class="line">  },</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-持续集成" tabindex="-1"><a class="header-anchor" href="#_8-持续集成"><span>8. 持续集成</span></a></h2><ul><li><a href="https://travis-ci.com" target="_blank" rel="noopener noreferrer">Travis CI</a> 提供的是持续集成服务（Continuous Integration，简称 CI）。它绑定 Github 上面的项目，只要有新的代码，就会自动抓取。然后，提供一个运行环境，执行测试，完成构建，还能部署到服务器</li><li>持续集成指的是只要代码有变更，就自动运行构建和测试，反馈运行结果。确保符合预期以后，再将新代码集成到主干</li><li>持续集成的好处在于，每次代码的小幅变更，就能看到运行结果，从而不断累积小的变更，而不是在开发周期结束时，一下子合并一大块代码</li></ul><h3 id="_8-1-登录并创建项目" tabindex="-1"><a class="header-anchor" href="#_8-1-登录并创建项目"><span>8.1 登录并创建项目</span></a></h3><ul><li><a href="https://travis-ci.com" target="_blank" rel="noopener noreferrer">Travis CI</a> 只支持 Github,所以你要拥有<code>GitHub</code>帐号</li><li>该帐号下面有一个项目,面有可运行的代码,还包含构建或测试脚本</li><li>你需要激活了一个仓库，<code>Travis</code> 会监听这个仓库的所有变化</li></ul><h3 id="_8-2-travis-yml" tabindex="-1"><a class="header-anchor" href="#_8-2-travis-yml"><span>8.2 .travis.yml</span></a></h3><ul><li><code>Travis</code> 要求项目的根目录下面，必须有一个<code>.travis.yml</code>文件。这是配置文件，指定了 Travis 的行为</li><li>该文件必须保存在 Github 仓库里面，一旦代码仓库有新的 <code>Commit</code>，Travis 就会去找这个文件，执行里面的命令</li><li>这个文件采用 YAML 格式。下面是一个最简单的 Node 项目的<code>.travis.yml</code>文件 <ul><li>language 字段指定了默认运行环境,<a href="https://docs.travis-ci.com/user/languages" target="_blank" rel="noopener noreferrer">所有的语言在此</a></li></ul></li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token literal-property property">language</span><span class="token operator">:</span> node_js</span>
<span class="line"><span class="token literal-property property">node_js</span><span class="token operator">:</span></span>
<span class="line">  <span class="token operator">-</span> <span class="token string">&quot;11&quot;</span></span>
<span class="line"><span class="token literal-property property">install</span><span class="token operator">:</span> npm install</span>
<span class="line"><span class="token literal-property property">script</span><span class="token operator">:</span>  npm test  </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-3-实战" tabindex="-1"><a class="header-anchor" href="#_8-3-实战"><span>8.3 实战</span></a></h3><h4 id="_8-3-1-生成项目并上传github" tabindex="-1"><a class="header-anchor" href="#_8-3-1-生成项目并上传github"><span>8.3.1 生成项目并上传github</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">npx create-react-app zhufeng-typescript-development</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_8-3-2-同步仓库" tabindex="-1"><a class="header-anchor" href="#_8-3-2-同步仓库"><span>8.3.2 同步仓库</span></a></h4><ul><li>登录<a href="https://travis-ci.com/" target="_blank" rel="noopener noreferrer">travis-ci.com</a>选择同步仓库</li></ul><h4 id="_8-3-3-设置仓库环境变量" tabindex="-1"><a class="header-anchor" href="#_8-3-3-设置仓库环境变量"><span>8.3.3 设置仓库环境变量</span></a></h4><table><thead><tr><th style="text-align:left;">变量名</th><th style="text-align:left;">含义</th></tr></thead><tbody><tr><td style="text-align:left;">GH_TOKEN</td><td style="text-align:left;">用户生成的令牌</td></tr><tr><td style="text-align:left;">GH_REF</td><td style="text-align:left;">仓库地址</td></tr></tbody></table><h4 id="_8-3-4-github生成访问令牌-即添加授权" tabindex="-1"><a class="header-anchor" href="#_8-3-4-github生成访问令牌-即添加授权"><span>8.3.4 Github生成访问令牌 (即添加授权)</span></a></h4><ul><li>访问令牌的作用就是授权仓库操作权限</li><li><a href="https://github.com/settings/tokens" target="_blank" rel="noopener noreferrer">https://github.com/settings/tokens</a></li><li>Github&gt;Developer settings&gt;Personal access tokens&gt; Generate new token &gt; Generate token&gt; Copy Token</li></ul><h4 id="_8-3-5-travis-yml" tabindex="-1"><a class="header-anchor" href="#_8-3-5-travis-yml"><span>8.3.5 .travis.yml</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token literal-property property">language</span><span class="token operator">:</span> node_js</span>
<span class="line"><span class="token literal-property property">node_js</span><span class="token operator">:</span> </span>
<span class="line">    <span class="token operator">-</span> <span class="token string">&#39;11&#39;</span></span>
<span class="line"><span class="token literal-property property">install</span><span class="token operator">:</span></span>
<span class="line">  <span class="token operator">-</span> npm install</span>
<span class="line"><span class="token literal-property property">script</span><span class="token operator">:</span></span>
<span class="line">  <span class="token operator">-</span> hexo g</span>
<span class="line"><span class="token literal-property property">after_script</span><span class="token operator">:</span></span>
<span class="line">  <span class="token operator">-</span> cd <span class="token punctuation">.</span><span class="token operator">/</span><span class="token keyword">public</span></span>
<span class="line">  <span class="token operator">-</span> git init</span>
<span class="line">  <span class="token operator">-</span> git config user<span class="token punctuation">.</span>name <span class="token string">&quot;\${USERNAME}&quot;</span></span>
<span class="line">  <span class="token operator">-</span> git config user<span class="token punctuation">.</span>email <span class="token string">&quot;\${UESREMAIL}&quot;</span></span>
<span class="line">  <span class="token operator">-</span> git add <span class="token operator">-</span><span class="token constant">A</span></span>
<span class="line">  <span class="token operator">-</span> git commit <span class="token operator">-</span>m <span class="token string">&quot;Update documents&quot;</span></span>
<span class="line">  <span class="token operator">-</span> git push <span class="token operator">--</span>force  <span class="token string">&quot;https://\${GH_TOKEN}@\${GH_REF}&quot;</span> <span class="token string">&quot;master:\${GH_BRANCH}&quot;</span></span>
<span class="line"><span class="token literal-property property">branches</span><span class="token operator">:</span></span>
<span class="line">  <span class="token literal-property property">only</span><span class="token operator">:</span></span>
<span class="line">    <span class="token operator">-</span> master</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-react元素" tabindex="-1"><a class="header-anchor" href="#_9-react元素"><span>9.React元素</span></a></h2><p><img src="https://img.zhufengpeixun.com/DetailedReactHTMLElements.jpg" alt="DetailedReactHTMLElements.jpg"></p><h3 id="_9-1-原生组件" tabindex="-1"><a class="header-anchor" href="#_9-1-原生组件"><span>9.1 原生组件</span></a></h3><p>src\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&#39;react-dom&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">root</span><span class="token operator">:</span> HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">className</span><span class="token operator">:</span> string</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">props</span><span class="token operator">:</span> Props <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">&#39;title&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">element</span><span class="token operator">:</span> React<span class="token punctuation">.</span>DetailedReactHTMLElement<span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> HTMLDivElement<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span></span>
<span class="line">  React<span class="token punctuation">.</span>createElement<span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> HTMLDivElement<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> props<span class="token punctuation">,</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>src\\typings.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">DOMAttributes</span> <span class="token punctuation">{</span></span>
<span class="line">  children<span class="token operator">?</span><span class="token operator">:</span> ReactNode<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">HTMLAttributes</span> <span class="token keyword">extends</span> <span class="token class-name">DOMAttributes</span> <span class="token punctuation">{</span></span>
<span class="line">  className<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ReactElement</span><span class="token operator">&lt;</span><span class="token constant">P</span> <span class="token operator">=</span> any<span class="token punctuation">,</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">string</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token literal-property property">props</span><span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">DOMElement</span> <span class="token keyword">extends</span> <span class="token class-name">ReactElement</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ReactHTML</span> <span class="token punctuation">{</span> <span class="token literal-property property">div</span><span class="token operator">:</span>  HTMLDivElement <span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">DetailedReactHTMLElement</span> <span class="token keyword">extends</span> <span class="token class-name">DOMElement</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">type</span><span class="token operator">:</span> keyof ReactHTML<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> type ReactText <span class="token operator">=</span> string <span class="token operator">|</span> number<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> type ReactChild <span class="token operator">=</span> ReactElement <span class="token operator">|</span> ReactText<span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> type ReactNode <span class="token operator">=</span> ReactChild <span class="token operator">|</span> boolean <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> declare <span class="token keyword">function</span> createElement<span class="token operator">&lt;</span><span class="token constant">P</span> <span class="token keyword">extends</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token literal-property property">type</span><span class="token operator">:</span> string<span class="token punctuation">,</span></span>
<span class="line">  props<span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">P</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token operator">...</span>children<span class="token operator">:</span> ReactNode<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> ReactElement<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-2-函数组件" tabindex="-1"><a class="header-anchor" href="#_9-2-函数组件"><span>9.2 函数组件</span></a></h3><p>src\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&#39;react-dom&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">root</span><span class="token operator">:</span> HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">className</span><span class="token operator">:</span> string</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">props</span><span class="token operator">:</span> Props <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">&#39;title&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">Welcome</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> Props</span><span class="token punctuation">)</span><span class="token operator">:</span>React<span class="token punctuation">.</span>DetailedReactHTMLElement<span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> HTMLDivElement<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> React<span class="token punctuation">.</span>createElement<span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> HTMLDivElement<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> props<span class="token punctuation">,</span> <span class="token string">&#39;hello&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">element</span><span class="token operator">:</span> React<span class="token punctuation">.</span>FunctionComponentElement<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span></span>
<span class="line">  React<span class="token punctuation">.</span>createElement<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span><span class="token punctuation">(</span>Welcome<span class="token punctuation">,</span> props<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>src\\typings.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">export interface DOMAttributes {</span>
<span class="line">  children?: ReactNode;</span>
<span class="line">}</span>
<span class="line">export interface HTMLAttributes extends DOMAttributes {</span>
<span class="line">  className?: string;</span>
<span class="line">}</span>
<span class="line">+export type JSXElementConstructor&lt;P&gt; = ((props: P) =&gt; ReactElement | null)</span>
<span class="line">+export interface ReactElement&lt;P = any, T extends string | JSXElementConstructor&lt;any&gt; = string&gt; {</span>
<span class="line">  type: T;</span>
<span class="line">  props: P;</span>
<span class="line">}</span>
<span class="line">export interface DOMElement extends ReactElement{}</span>
<span class="line">export interface ReactHTML { div:  HTMLDivElement }</span>
<span class="line">export interface DetailedReactHTMLElement extends DOMElement{</span>
<span class="line">  type: keyof ReactHTML;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">export type ReactText = string | number;</span>
<span class="line">export type ReactChild = ReactElement | ReactText;</span>
<span class="line">export type ReactNode = ReactChild | boolean | null | undefined;</span>
<span class="line"></span>
<span class="line">+type PropsWithChildren&lt;P&gt; = P &amp; { children?: ReactNode };</span>
<span class="line">+interface FunctionComponent&lt;P = {}&gt; {</span>
<span class="line">+  (props: PropsWithChildren&lt;P&gt;): ReactElement | null;</span>
<span class="line">+}</span>
<span class="line">+interface FunctionComponentElement&lt;P&gt; extends ReactElement&lt;P, FunctionComponent&lt;P&gt;&gt; {}</span>
<span class="line">+export declare function createElement&lt;P extends {}&gt;(</span>
<span class="line">+  type: FunctionComponent&lt;P&gt;,</span>
<span class="line">+  props?: P,</span>
<span class="line">+  ...children: ReactNode[]): FunctionComponentElement&lt;P&gt;;</span>
<span class="line">export declare function createElement&lt;P extends {}&gt;(</span>
<span class="line">  type: string,</span>
<span class="line">  props?: P,</span>
<span class="line">  ...children: ReactNode[]): ReactElement;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_9-3-类组件" tabindex="-1"><a class="header-anchor" href="#_9-3-类组件"><span>9.3 类组件</span></a></h3><p>src\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&#39;react-dom&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">root</span><span class="token operator">:</span> HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">className</span><span class="token operator">:</span> string</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">count</span><span class="token operator">:</span>number</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Welcome</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> State<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  state <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">count</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span></span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>React<span class="token punctuation">.</span>DetailedReactHTMLElement<span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> HTMLDivElement<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> React<span class="token punctuation">.</span>createElement<span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> HTMLDivElement<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">props</span><span class="token operator">:</span> Props <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">&#39;title&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> element <span class="token operator">=</span> <span class="token punctuation">(</span></span>
<span class="line">  React<span class="token punctuation">.</span>createElement<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span><span class="token punctuation">(</span>Welcome<span class="token punctuation">,</span> props<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> root<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>src\\typings.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">export interface DOMAttributes {</span>
<span class="line">  children?: ReactNode;</span>
<span class="line">}</span>
<span class="line">export interface HTMLAttributes extends DOMAttributes {</span>
<span class="line">  className?: string;</span>
<span class="line">}</span>
<span class="line">export type JSXElementConstructor&lt;P&gt; =  </span>
<span class="line">| ((props: P) =&gt; ReactElement | null)</span>
<span class="line">+| (new (props: P) =&gt; Component&lt;P, any&gt;);</span>
<span class="line"></span>
<span class="line">export interface ReactElement&lt;P = any, T extends string | JSXElementConstructor&lt;any&gt; = string&gt; {</span>
<span class="line">  type: T;</span>
<span class="line">  props: P;</span>
<span class="line">}</span>
<span class="line">export interface DOMElement extends ReactElement{}</span>
<span class="line">export interface ReactHTML { div:  HTMLDivElement }</span>
<span class="line">export interface DetailedReactHTMLElement extends DOMElement{</span>
<span class="line">  type: keyof ReactHTML;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">export type ReactText = string | number;</span>
<span class="line">export type ReactChild = ReactElement | ReactText;</span>
<span class="line">export type ReactNode = ReactChild | boolean | null | undefined;</span>
<span class="line"></span>
<span class="line">type PropsWithChildren&lt;P&gt; = P &amp; { children?: ReactNode };</span>
<span class="line">interface FunctionComponent&lt;P = {}&gt; {</span>
<span class="line">  (props: PropsWithChildren&lt;P&gt;): ReactElement | null;</span>
<span class="line">}</span>
<span class="line">interface FunctionComponentElement&lt;P&gt; extends ReactElement&lt;P, FunctionComponent&lt;P&gt;&gt; {}</span>
<span class="line"></span>
<span class="line">+type ComponentState = any;</span>
<span class="line">+declare class Component&lt;P, S&gt; {</span>
<span class="line">+  setState(state: any): void;</span>
<span class="line">+  render(): ReactNode;</span>
<span class="line">+}</span>
<span class="line">+interface ComponentClass&lt;P = {}, S = ComponentState&gt; {</span>
<span class="line">+  new(props: P): Component&lt;P, S&gt;;</span>
<span class="line">+}</span>
<span class="line">+interface ComponentElement&lt;P&gt; extends ReactElement&lt;P, ComponentClass&lt;P&gt;&gt; {}</span>
<span class="line">+export declare function createElement&lt;P extends {}&gt;(</span>
<span class="line">+  type:  ComponentClass&lt;P&gt;,</span>
<span class="line">+  props?: P,</span>
<span class="line">+  ...children: ReactNode[]): ComponentElement&lt;P&gt;;</span>
<span class="line">export declare function createElement&lt;P extends {}&gt;(</span>
<span class="line">  type: FunctionComponent&lt;P&gt;,</span>
<span class="line">  props?: P,</span>
<span class="line">  ...children: ReactNode[]): FunctionComponentElement&lt;P&gt;;</span>
<span class="line">export declare function createElement&lt;P extends {}&gt;(</span>
<span class="line">  type: string,</span>
<span class="line">  props?: P,</span>
<span class="line">  ...children: ReactNode[]): ReactElement;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_10-创建组件" tabindex="-1"><a class="header-anchor" href="#_10-创建组件"><span>10. 创建组件</span></a></h2><h3 id="_10-1-counter-tsx" tabindex="-1"><a class="header-anchor" href="#_10-1-counter-tsx"><span>10.1 Counter.tsx</span></a></h3><p>src\\components\\Counter.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">number</span><span class="token operator">:</span> number</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> <span class="token punctuation">{</span> number <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span></span>
<span class="line">                <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span>number<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span></span>
<span class="line">            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">        <span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-2-types-tsx" tabindex="-1"><a class="header-anchor" href="#_10-2-types-tsx"><span>10.2 types.tsx</span></a></h3><p>src\\components\\Todos\\types.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">export</span> type Todo <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">id</span><span class="token operator">:</span>number<span class="token punctuation">;</span></span>
<span class="line">    <span class="token literal-property property">text</span><span class="token operator">:</span>string</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-3-todoitem-tsx" tabindex="-1"><a class="header-anchor" href="#_10-3-todoitem-tsx"><span>10.3 TodoItem.tsx</span></a></h3><p>src\\components\\Todos\\TodoItem.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Todo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./types&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token literal-property property">todoItemStyle</span><span class="token operator">:</span> React<span class="token punctuation">.</span>CSSProperties <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">todo</span><span class="token operator">:</span> Todo<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token literal-property property">TodoItem</span><span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> Props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span></span>
<span class="line">  <span class="token operator">&lt;</span>li style<span class="token operator">=</span><span class="token punctuation">{</span>todoItemStyle<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>todo<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">TodoItem<span class="token punctuation">.</span>defaultProps<span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> TodoItem<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-4-todoinput-tsx" tabindex="-1"><a class="header-anchor" href="#_10-4-todoinput-tsx"><span>10.4 TodoInput.tsx</span></a></h3><p>src\\components\\Todos\\TodoInput.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Todo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./types&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function-variable function">addTodo</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">todo</span><span class="token operator">:</span>Todo</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">void</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">text</span><span class="token operator">:</span>string</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> id<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">TodoInput</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> State<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">props</span><span class="token operator">:</span> Props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">super</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">public</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> text <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> handleChange<span class="token punctuation">,</span> handleSubmit <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token operator">&lt;</span>form onSubmit<span class="token operator">=</span><span class="token punctuation">{</span>handleSubmit<span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="line">        <span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> value<span class="token operator">=</span><span class="token punctuation">{</span>text<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>handleChange<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">        <span class="token operator">&lt;</span>button type<span class="token operator">=</span><span class="token string">&quot;submit&quot;</span><span class="token operator">&gt;</span>添加<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function-variable function">handleChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> React<span class="token punctuation">.</span>ChangeEvent<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token function-variable function">handleSubmit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> React<span class="token punctuation">.</span>FormEvent<span class="token operator">&lt;</span>HTMLFormElement<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">let</span> text <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>text<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>text<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">return</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">id</span><span class="token operator">:</span>id<span class="token operator">++</span><span class="token punctuation">,</span>text<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-5-todos-index-tsx" tabindex="-1"><a class="header-anchor" href="#_10-5-todos-index-tsx"><span>10.5 Todos\\index.tsx</span></a></h3><p>src\\components\\Todos\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> TodoInput <span class="token keyword">from</span> <span class="token string">&#39;./TodoInput&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> TodoItem <span class="token keyword">from</span> <span class="token string">&#39;./TodoItem&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Todo<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./types&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token literal-property property">ulStyle</span><span class="token operator">:</span> React<span class="token punctuation">.</span>CSSProperties <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">&quot;100px&quot;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">title</span><span class="token operator">:</span>string</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">todos</span><span class="token operator">:</span> Todo<span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Todos</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&lt;</span>Props<span class="token punctuation">,</span>State<span class="token operator">&gt;</span><span class="token punctuation">{</span></span>
<span class="line">  state <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">todos</span><span class="token operator">:</span><span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span>Todo<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function-variable function">addTodo</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">todo</span><span class="token operator">:</span>Todo</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">todos</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todos<span class="token punctuation">,</span>todo<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">      <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span></span>
<span class="line">        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>title<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span></span>
<span class="line">        <span class="token operator">&lt;</span>TodoInput addTodo<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>addTodo<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">        <span class="token operator">&lt;</span>ul style<span class="token operator">=</span><span class="token punctuation">{</span>ulStyle<span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="line">          <span class="token punctuation">{</span></span>
<span class="line">            <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>todos<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">todo</span><span class="token operator">=&gt;</span><span class="token operator">&lt;</span>TodoItem key<span class="token operator">=</span><span class="token punctuation">{</span>todo<span class="token punctuation">.</span>id<span class="token punctuation">}</span> todo<span class="token operator">=</span><span class="token punctuation">{</span>todo<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span></span>
<span class="line">          <span class="token punctuation">}</span></span>
<span class="line">        <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-6-src-index-tsx" tabindex="-1"><a class="header-anchor" href="#_10-6-src-index-tsx"><span>10.6 src\\index.tsx</span></a></h3><p>src\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&quot;react-dom&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">&quot;./components/Counter&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> Todos <span class="token keyword">from</span> <span class="token string">&quot;./components/Todos&quot;</span><span class="token punctuation">;</span></span>
<span class="line">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>Counter number<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">100</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>Todos title<span class="token operator">=</span><span class="token string">&quot;待办事项&quot;</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_11-默认属性" tabindex="-1"><a class="header-anchor" href="#_11-默认属性"><span>11. 默认属性</span></a></h2><h3 id="_11-1-todoinput-tsx" tabindex="-1"><a class="header-anchor" href="#_11-1-todoinput-tsx"><span>11.1 TodoInput.tsx</span></a></h3><p>src\\components\\Todos\\TodoInput.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &quot;react&quot;;</span>
<span class="line">import { Todo } from &#39;./types&#39;;</span>
<span class="line"></span>
<span class="line">+let defaultProps = {</span>
<span class="line">+  setting:{</span>
<span class="line">+    maxLength: 6,</span>
<span class="line">+    placeholder: &#39;请输入待办事项&#39;</span>
<span class="line">+  }</span>
<span class="line">+}</span>
<span class="line">+export type DefaultProps = Partial&lt;typeof defaultProps&gt;;</span>
<span class="line">+interface OwnProps {</span>
<span class="line">+  addTodo:(todo:Todo)=&gt;void</span>
<span class="line">+}</span>
<span class="line">+type Props = OwnProps &amp; DefaultProps;</span>
<span class="line">interface State {</span>
<span class="line">  text:string</span>
<span class="line">}</span>
<span class="line">let id=0;</span>
<span class="line">export default class TodoInput extends React.Component&lt;Props, State&gt; {</span>
<span class="line">+  static defaultProps: Required&lt;DefaultProps&gt; = defaultProps;</span>
<span class="line">  constructor(props: Props) {</span>
<span class="line">    super(props);</span>
<span class="line">    this.state = {</span>
<span class="line">      text: &quot;&quot;</span>
<span class="line">    };</span>
<span class="line">  }</span>
<span class="line">  public render() {</span>
<span class="line">    const { text } = this.state;</span>
<span class="line">+   const { setting } = this.props as (Props &amp; Required&lt;DefaultProps&gt;);</span>
<span class="line">    const { handleChange, handleSubmit } = this;</span>
<span class="line">    return (</span>
<span class="line">      &lt;form onSubmit={handleSubmit}&gt;</span>
<span class="line">+       &lt;input type=&quot;text&quot; maxLength={setting.maxLength} placeholder={setting.placeholder} </span>
<span class="line">        value={text} onChange={handleChange} /&gt;</span>
<span class="line">        &lt;button type=&quot;submit&quot;&gt;添加&lt;/button&gt;</span>
<span class="line">      &lt;/form&gt;</span>
<span class="line">    );</span>
<span class="line">  }</span>
<span class="line"></span>
<span class="line">  handleChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {</span>
<span class="line">    this.setState({ text: e.target.value });</span>
<span class="line">  }</span>
<span class="line"></span>
<span class="line">  handleSubmit = (e: React.FormEvent&lt;HTMLFormElement&gt;) =&gt; {</span>
<span class="line">    e.preventDefault();</span>
<span class="line">    let text = this.state.text.trim();</span>
<span class="line">    if (!text) {</span>
<span class="line">      return;</span>
<span class="line">    }</span>
<span class="line">    this.props.addTodo({id:id++,text});</span>
<span class="line">    this.setState({ text: &quot;&quot; });</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_12-高阶组件" tabindex="-1"><a class="header-anchor" href="#_12-高阶组件"><span>12. 高阶组件</span></a></h2><h3 id="_12-1-安装" tabindex="-1"><a class="header-anchor" href="#_12-1-安装"><span>12.1 安装</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">cnpm i hoist-non-react-statics -S</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_12-2-src-utils-tsx" tabindex="-1"><a class="header-anchor" href="#_12-2-src-utils-tsx"><span>12.2 src\\utils.tsx</span></a></h3><p>src\\utils.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span>  hoistNonReactStatics <span class="token keyword">from</span> <span class="token string">&#39;hoist-non-react-statics&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> defaultProps <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">setting</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">maxLength</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">&#39;请输入待办事项&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> type DefaultProps <span class="token operator">=</span> Partial<span class="token operator">&lt;</span><span class="token keyword">typeof</span> defaultProps<span class="token operator">&gt;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> withDefaultInputProps <span class="token operator">=</span>  <span class="token operator">&lt;</span>Props <span class="token keyword">extends</span> <span class="token class-name">DefaultProps</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">OldComponent</span><span class="token operator">:</span> React<span class="token punctuation">.</span>ComponentType<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  type OwnProps <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> keyof DefaultProps<span class="token operator">&gt;</span><span class="token punctuation">;</span> </span>
<span class="line">  <span class="token keyword">class</span> <span class="token class-name">NewComponent</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&lt;</span>OwnProps<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">     <span class="token keyword">public</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">       <span class="token keyword">let</span> props <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>defaultProps<span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">}</span> <span class="token keyword">as</span> Props<span class="token punctuation">;</span></span>
<span class="line">       <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">         <span class="token operator">&lt;</span>OldComponent <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">       <span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">     <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token function">hoistNonReactStatics</span><span class="token punctuation">(</span>NewComponent<span class="token punctuation">,</span> OldComponent<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-3-todoinput-tsx" tabindex="-1"><a class="header-anchor" href="#_12-3-todoinput-tsx"><span>12.3 TodoInput.tsx</span></a></h3><p>src\\components\\Todos\\TodoInput.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &quot;react&quot;;</span>
<span class="line">import { Todo } from &#39;./types&#39;;</span>
<span class="line">+import {withDefaultInputProps,DefaultProps } from &#39;@/utils&#39;;</span>
<span class="line">interface OwnProps {</span>
<span class="line">  addTodo:(todo:Todo)=&gt;void</span>
<span class="line">}</span>
<span class="line">type Props = OwnProps &amp; DefaultProps;</span>
<span class="line">interface State {</span>
<span class="line">  text:string</span>
<span class="line">}</span>
<span class="line">let id=0;</span>
<span class="line">class TodoInput extends React.Component&lt;Props, State&gt; {</span>
<span class="line">  constructor(props: Props) {</span>
<span class="line">    super(props);</span>
<span class="line">    this.state = {</span>
<span class="line">      text: &quot;&quot;</span>
<span class="line">    };</span>
<span class="line">  }</span>
<span class="line">  public render() {</span>
<span class="line">    const { text } = this.state;</span>
<span class="line">    const { setting } = this.props as (Props &amp; Required&lt;DefaultProps&gt;);</span>
<span class="line">    const { handleChange, handleSubmit } = this;</span>
<span class="line">    return (</span>
<span class="line">      &lt;form onSubmit={handleSubmit}&gt;</span>
<span class="line">        &lt;input type=&quot;text&quot; maxLength={setting.maxLength} placeholder={setting.placeholder} </span>
<span class="line">        value={text} onChange={handleChange} /&gt;</span>
<span class="line">        &lt;button type=&quot;submit&quot;&gt;添加&lt;/button&gt;</span>
<span class="line">      &lt;/form&gt;</span>
<span class="line">    );</span>
<span class="line">  }</span>
<span class="line"></span>
<span class="line">  handleChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {</span>
<span class="line">    this.setState({ text: e.target.value });</span>
<span class="line">  }</span>
<span class="line"></span>
<span class="line">  handleSubmit = (e: React.FormEvent&lt;HTMLFormElement&gt;) =&gt; {</span>
<span class="line">    e.preventDefault();</span>
<span class="line">    let text = this.state.text.trim();</span>
<span class="line">    if (!text) {</span>
<span class="line">      return;</span>
<span class="line">    }</span>
<span class="line">    this.props.addTodo({id:id++,text});</span>
<span class="line">    this.setState({ text: &quot;&quot; });</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line">+ export default withDefaultInputProps&lt;Props&gt;(TodoInput);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-4-src-hoistnonreactstatics-tsx" tabindex="-1"><a class="header-anchor" href="#_12-4-src-hoistnonreactstatics-tsx"><span>12.4 src\\hoistNonReactStatics.tsx</span></a></h3><p>src\\hoistNonReactStatics.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> hoistNonReactStatics<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>ComponentType</span><span class="token operator">&lt;</span>any<span class="token operator">&gt;</span><span class="token punctuation">,</span><span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>ComponentType</span><span class="token operator">&lt;</span>any<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&gt;</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token literal-property property">TargetComponent</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">SourceComponent</span><span class="token operator">:</span> <span class="token constant">S</span></span>
<span class="line"><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">&amp;</span> <span class="token constant">S</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">function</span> hoistNonReactStatics<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>ComponentType</span><span class="token operator">&lt;</span>any<span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token constant">S</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>ComponentType</span><span class="token operator">&lt;</span>any<span class="token operator">&gt;&gt;</span></span>
<span class="line"><span class="token punctuation">(</span>targetComponent<span class="token operator">:</span><span class="token constant">T</span> <span class="token punctuation">,</span> <span class="token literal-property property">sourceComponent</span><span class="token operator">:</span> <span class="token constant">S</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token constant">T</span><span class="token operator">&amp;</span><span class="token constant">S</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">let</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>sourceComponent<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> key <span class="token operator">=</span> keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token keyword">const</span> descriptor <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>sourceComponent<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>targetComponent<span class="token punctuation">,</span> key<span class="token punctuation">,</span> descriptor<span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> targetComponent <span class="token keyword">as</span> <span class="token constant">T</span><span class="token operator">&amp;</span><span class="token constant">S</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">Props</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">State</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">Old</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> State<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token literal-property property">age1</span><span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">New</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> State<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">static</span> <span class="token literal-property property">age2</span><span class="token operator">:</span> number <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> c <span class="token operator">=</span> hoistNonReactStatics<span class="token operator">&lt;</span><span class="token keyword">typeof</span> New<span class="token punctuation">,</span> <span class="token keyword">typeof</span>  Old<span class="token operator">&gt;</span><span class="token punctuation">(</span>New<span class="token punctuation">,</span> Old<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">c<span class="token punctuation">.</span>age1<span class="token punctuation">;</span></span>
<span class="line">c<span class="token punctuation">.</span>age2<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_13-集成redux" tabindex="-1"><a class="header-anchor" href="#_13-集成redux"><span>13. 集成redux</span></a></h2><h3 id="_13-1-models-todos-tsx" tabindex="-1"><a class="header-anchor" href="#_13-1-models-todos-tsx"><span>13.1 models\\todos.tsx</span></a></h3><p>src\\models\\todos.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">export</span> type Todo <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">id</span><span class="token operator">:</span> number<span class="token punctuation">;</span></span>
<span class="line">    <span class="token literal-property property">text</span><span class="token operator">:</span> string</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-2-models-index-tsx" tabindex="-1"><a class="header-anchor" href="#_13-2-models-index-tsx"><span>13.2 models\\index.tsx</span></a></h3><p>src\\models\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Todo<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./todos&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token punctuation">{</span></span>
<span class="line">    Todo</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-3-action-types-tsx" tabindex="-1"><a class="header-anchor" href="#_13-3-action-types-tsx"><span>13.3 action-types.tsx</span></a></h3><p>src\\store\\action-types.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">ADD</span> <span class="token operator">=</span> <span class="token string">&#39;ADD&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">MINUS</span> <span class="token operator">=</span> <span class="token string">&#39;MINUS&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">ADD_TODO</span> <span class="token operator">=</span> <span class="token string">&#39;ADD_TODO&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-4-reducers-counter-tsx" tabindex="-1"><a class="header-anchor" href="#_13-4-reducers-counter-tsx"><span>13.4 reducers\\counter.tsx</span></a></h3><p>src\\store\\reducers\\counter.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> types <span class="token keyword">from</span> <span class="token string">&#39;../action-types&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Action <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../actions&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">CounterState</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">number</span><span class="token operator">:</span>number<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">initialState</span><span class="token operator">:</span> CounterState <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">number</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">state</span><span class="token operator">:</span> CounterState <span class="token operator">=</span> initialState<span class="token punctuation">,</span> <span class="token literal-property property">action</span><span class="token operator">:</span> Action</span><span class="token punctuation">)</span><span class="token operator">:</span> CounterState <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">case</span> types<span class="token punctuation">.</span><span class="token constant">ADD</span><span class="token operator">:</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> <span class="token literal-property property">number</span><span class="token operator">:</span> state<span class="token punctuation">.</span>number <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">case</span> types<span class="token punctuation">.</span><span class="token constant">MINUS</span><span class="token operator">:</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>state<span class="token punctuation">,</span> <span class="token literal-property property">number</span><span class="token operator">:</span> state<span class="token punctuation">.</span>number <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">            <span class="token keyword">return</span> state<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-5-reducers-todos-tsx" tabindex="-1"><a class="header-anchor" href="#_13-5-reducers-todos-tsx"><span>13.5 reducers\\todos.tsx</span></a></h3><p>src\\store\\reducers\\todos.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">ADD_TODO</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../action-types&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Action <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../actions&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Todo<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../../models&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">TodosState</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">list</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>Todo<span class="token operator">&gt;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">initialState</span><span class="token operator">:</span> TodosState <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token operator">&lt;</span>Todo<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">state</span><span class="token operator">:</span> TodosState <span class="token operator">=</span> initialState<span class="token punctuation">,</span> <span class="token literal-property property">action</span><span class="token operator">:</span> Action</span><span class="token punctuation">)</span><span class="token operator">:</span> TodosState <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">case</span> <span class="token constant">ADD_TODO</span><span class="token operator">:</span></span>
<span class="line">            <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">...</span>state<span class="token punctuation">.</span>list<span class="token punctuation">,</span>action<span class="token punctuation">.</span>payload<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">        <span class="token keyword">default</span><span class="token operator">:</span></span>
<span class="line">            <span class="token keyword">return</span> state<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-6-reducers-index-tsx" tabindex="-1"><a class="header-anchor" href="#_13-6-reducers-index-tsx"><span>13.6 reducers\\index.tsx</span></a></h3><p>src\\store\\reducers\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> counter<span class="token punctuation">,</span> <span class="token punctuation">{</span> CounterState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./counter&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> todos<span class="token punctuation">,</span><span class="token punctuation">{</span>TodosState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./todos&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> combineReducers <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> reducers <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    counter<span class="token punctuation">,</span></span>
<span class="line">    todos</span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">type ReducersType <span class="token operator">=</span> <span class="token keyword">typeof</span> reducers<span class="token punctuation">;</span></span>
<span class="line">type CombinedState <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token punctuation">[</span>key <span class="token keyword">in</span> keyof ReducersType<span class="token punctuation">]</span><span class="token operator">:</span> ReturnType<span class="token operator">&lt;</span>ReducersType<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token operator">&gt;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token punctuation">{</span> CombinedState<span class="token punctuation">,</span> CounterState<span class="token punctuation">,</span> TodosState<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> combinedReducer <span class="token operator">=</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span>reducers<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> combinedReducer<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-7-actions-counter-tsx" tabindex="-1"><a class="header-anchor" href="#_13-7-actions-counter-tsx"><span>13.7 actions\\counter.tsx</span></a></h3><p>src\\store\\actions\\counter.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">ADD</span><span class="token punctuation">,</span> <span class="token constant">MINUS</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../action-types&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">AddAction</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token keyword">typeof</span> <span class="token constant">ADD</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">MinusAction</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token keyword">typeof</span> <span class="token constant">MINUS</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> AddAction <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token constant">ADD</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">minus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> MinusAction <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token constant">MINUS</span> <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-8-actions-todos-tsx" tabindex="-1"><a class="header-anchor" href="#_13-8-actions-todos-tsx"><span>13.8 actions\\todos.tsx</span></a></h3><p>src\\store\\actions\\todos.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">ADD_TODO</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../action-types&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Todo<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/models&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">AddTodoAction</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token keyword">typeof</span> <span class="token constant">ADD_TODO</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token literal-property property">payload</span><span class="token operator">:</span>Todo</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">addTodo</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">todo</span><span class="token operator">:</span>Todo</span><span class="token punctuation">)</span><span class="token operator">:</span> AddTodoAction <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token constant">ADD_TODO</span><span class="token punctuation">,</span><span class="token literal-property property">payload</span><span class="token operator">:</span>todo <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-9-actions-index-tsx" tabindex="-1"><a class="header-anchor" href="#_13-9-actions-index-tsx"><span>13.9 actions\\index.tsx</span></a></h3><p>src\\store\\actions\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> AddAction<span class="token punctuation">,</span>MinusAction<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./counter&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> AddTodoAction <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./todos&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> type Action <span class="token operator">=</span> AddAction <span class="token operator">|</span> MinusAction <span class="token operator">|</span> AddTodoAction<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-10-components-counter-tsx" tabindex="-1"><a class="header-anchor" href="#_13-10-components-counter-tsx"><span>13.10 components\\Counter.tsx</span></a></h3><p>src\\components\\Counter.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &#39;react&#39;;</span>
<span class="line">+import { connect } from &#39;react-redux&#39;;</span>
<span class="line">+import { CombinedState, CounterState } from &#39;../store/reducers&#39;;</span>
<span class="line">+import * as actions from &#39;@/store/actions/counter&#39;;</span>
<span class="line">+type StateProps = ReturnType&lt;typeof mapStateToProps&gt;;</span>
<span class="line">+type DispatchProps = typeof actions;</span>
<span class="line">+type Props = StateProps &amp; DispatchProps;</span>
<span class="line"></span>
<span class="line">class Counter extends React.Component&lt;Props&gt;{</span>
<span class="line">    render() {</span>
<span class="line">        const { number } = this.props;</span>
<span class="line">        return (</span>
<span class="line">            &lt;div&gt;</span>
<span class="line">                &lt;p&gt;{number}&lt;/p&gt;</span>
<span class="line">                &lt;button onClick={()=&gt;this.props.add()}&gt;+&lt;/button&gt;</span>
<span class="line">            &lt;/div&gt;</span>
<span class="line">        )</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">+let mapStateToProps = function (state: CombinedState): CounterState {</span>
<span class="line">+    return state.counter;</span>
<span class="line">+}</span>
<span class="line"></span>
<span class="line">+export default connect(mapStateToProps, actions)(Counter);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-11-todoitem-tsx" tabindex="-1"><a class="header-anchor" href="#_13-11-todoitem-tsx"><span>13.11 TodoItem.tsx</span></a></h3><p>src\\components\\Todos\\TodoItem.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &quot;react&quot;;</span>
<span class="line">+import { Todo } from &#39;@/models&#39;;</span>
<span class="line">const todoItemStyle: React.CSSProperties = {</span>
<span class="line">  color: &quot;red&quot;,</span>
<span class="line">  backgroundColor: &quot;green&quot;,</span>
<span class="line">};</span>
<span class="line">interface Props {</span>
<span class="line">  todo: Todo;</span>
<span class="line">}</span>
<span class="line">const TodoItem: React.FC&lt;Props&gt; = (props: Props) =&gt; (</span>
<span class="line">  &lt;li style={todoItemStyle}&gt;{props.todo.text}&lt;/li&gt;</span>
<span class="line">);</span>
<span class="line">TodoItem.defaultProps;</span>
<span class="line"></span>
<span class="line">export default TodoItem;</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-12-todoinput-tsx" tabindex="-1"><a class="header-anchor" href="#_13-12-todoinput-tsx"><span>13.12 TodoInput.tsx</span></a></h3><p>src\\components\\Todos\\TodoInput.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &quot;react&quot;;</span>
<span class="line">+import { Todo } from &#39;@/models&#39;;</span>
<span class="line">import { withDefaultInputProps,DefaultProps } from &#39;@/utils&#39;;</span>
<span class="line">interface OwnProps {</span>
<span class="line">  addTodo:(todo:Todo)=&gt;void</span>
<span class="line">}</span>
<span class="line">type Props = OwnProps &amp; DefaultProps;</span>
<span class="line">interface State {</span>
<span class="line">  text:string</span>
<span class="line">}</span>
<span class="line">let id=0;</span>
<span class="line"></span>
<span class="line">class TodoInput extends React.Component&lt;Props, State&gt; {</span>
<span class="line">  static age:number = 10;</span>
<span class="line">  constructor(props: Props) {</span>
<span class="line">    super(props);</span>
<span class="line">    this.state = {</span>
<span class="line">      text: &quot;&quot;</span>
<span class="line">    };</span>
<span class="line">  }</span>
<span class="line">  public render() {</span>
<span class="line">    const { text } = this.state;</span>
<span class="line">    const { setting } = this.props as Props &amp; Required&lt;DefaultProps&gt;;</span>
<span class="line">    const { handleChange, handleSubmit } = this;</span>
<span class="line">    return (</span>
<span class="line">      &lt;form onSubmit={handleSubmit}&gt;</span>
<span class="line">        &lt;input type=&quot;text&quot; maxLength={setting.maxLength} placeholder={setting.placeholder} </span>
<span class="line">        value={text} onChange={handleChange} /&gt;</span>
<span class="line">        &lt;button type=&quot;submit&quot;&gt;添加&lt;/button&gt;</span>
<span class="line">      &lt;/form&gt;</span>
<span class="line">    );</span>
<span class="line">  }</span>
<span class="line"></span>
<span class="line">  handleChange = (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; {</span>
<span class="line">    this.setState({ text: e.target.value });</span>
<span class="line">  }</span>
<span class="line"></span>
<span class="line">  handleSubmit = (e: React.FormEvent&lt;HTMLFormElement&gt;) =&gt; {</span>
<span class="line">    e.preventDefault();</span>
<span class="line">    let text = this.state.text.trim();</span>
<span class="line">    if (!text) {</span>
<span class="line">      return;</span>
<span class="line">    }</span>
<span class="line">    this.props.addTodo({id:id++,text});</span>
<span class="line">    this.setState({ text: &quot;&quot; });</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line">export default withDefaultInputProps&lt;Props&gt;(TodoInput);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-13-todos-index-tsx" tabindex="-1"><a class="header-anchor" href="#_13-13-todos-index-tsx"><span>13.13 Todos\\index.tsx</span></a></h3><p>src\\components\\Todos\\index.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &#39;react&#39;;</span>
<span class="line">import TodoInput from &#39;./TodoInput&#39;;</span>
<span class="line">import TodoItem from &#39;./TodoItem&#39;;</span>
<span class="line">+import { Todo} from &#39;@/models&#39;;</span>
<span class="line">+import { CombinedState,TodosState  } from &#39;@/store/reducers&#39;;</span>
<span class="line">+import * as actions from &#39;@/store/actions/todos&#39;;</span>
<span class="line">+import {connect} from &#39;react-redux&#39;;</span>
<span class="line">+const ulStyle: React.CSSProperties = {</span>
<span class="line">+  width: &quot;100px&quot;</span>
<span class="line">+};</span>
<span class="line">+type StateProps = ReturnType&lt;typeof mapStateToProps&gt;;</span>
<span class="line">+type DispatchProps = typeof actions;</span>
<span class="line">+type Props = StateProps &amp; DispatchProps;</span>
<span class="line">export interface State {</span>
<span class="line">  todos: Todo[]</span>
<span class="line">}</span>
<span class="line">class Todos extends React.Component&lt;Props,State&gt;{</span>
<span class="line">  addTodo = (todo:Todo) =&gt;{</span>
<span class="line">    this.props.addTodo(todo);</span>
<span class="line">  }</span>
<span class="line">  render() {</span>
<span class="line">    return (</span>
<span class="line">      &lt;div&gt;</span>
<span class="line">        &lt;TodoInput addTodo={this.addTodo}/&gt;</span>
<span class="line">        &lt;ul style={ulStyle}&gt;</span>
<span class="line">          {</span>
<span class="line">            this.props.list.map(todo=&gt;&lt;TodoItem key={todo.id} todo={todo}/&gt;)</span>
<span class="line">          }</span>
<span class="line">        &lt;/ul&gt;</span>
<span class="line">      &lt;/div&gt;</span>
<span class="line">    )</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line">+let mapStateToProps = function (state: CombinedState): TodosState {</span>
<span class="line">+  return state.todos;</span>
<span class="line">+}</span>
<span class="line">+export default connect(mapStateToProps, actions)(Todos);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-14-store-index-tsx" tabindex="-1"><a class="header-anchor" href="#_13-14-store-index-tsx"><span>13.14 store\\index.tsx</span></a></h3><p>src\\store\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;redux&#39;</span></span>
<span class="line"><span class="token keyword">import</span> combinedReducer <span class="token keyword">from</span> <span class="token string">&#39;./reducers&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>combinedReducer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-15-src-index-tsx" tabindex="-1"><a class="header-anchor" href="#_13-15-src-index-tsx"><span>13.15 src\\index.tsx</span></a></h3><p>src\\index.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &quot;react&quot;;</span>
<span class="line">import * as ReactDOM from &quot;react-dom&quot;;</span>
<span class="line">import Counter from &quot;./components/Counter&quot;;</span>
<span class="line">import Todos from &quot;./components/Todos&quot;;</span>
<span class="line">+import { Provider } from &#39;react-redux&#39;;</span>
<span class="line">+import store from &#39;./store&#39;;</span>
<span class="line">+ReactDOM.render(</span>
<span class="line">+&lt;Provider store={store}&gt;</span>
<span class="line">+    &lt;React.Fragment&gt;</span>
<span class="line">+        &lt;Counter /&gt;</span>
<span class="line">+        &lt;hr/&gt;</span>
<span class="line">+        &lt;Todos /&gt;</span>
<span class="line">+    &lt;/React.Fragment&gt;</span>
<span class="line">+&lt;/Provider&gt;, document.getElementById(&quot;root&quot;));</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_14-使用路由" tabindex="-1"><a class="header-anchor" href="#_14-使用路由"><span>14. 使用路由</span></a></h2><h3 id="_14-1-src-index-tsx" tabindex="-1"><a class="header-anchor" href="#_14-1-src-index-tsx"><span>14.1 src\\index.tsx</span></a></h3><p>src\\index.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &#39;react&#39;;</span>
<span class="line">import * as ReactDOM from &#39;react-dom&#39;;</span>
<span class="line">import Counter from &#39;./components/Counter&#39;;</span>
<span class="line">import Todos from &#39;./components/Todos&#39;;</span>
<span class="line">import { Provider } from &#39;react-redux&#39;;</span>
<span class="line">import store from &#39;./store&#39;;</span>
<span class="line">+import { BrowserRouter as Router, Route, Link } from &#39;react-router-dom&#39;;</span>
<span class="line">ReactDOM.render((</span>
<span class="line">    &lt;Provider store={store}&gt;</span>
<span class="line">        &lt;Router &gt;</span>
<span class="line">            &lt;React.Fragment&gt;</span>
<span class="line">+                &lt;ul&gt;</span>
<span class="line">+                    &lt;li&gt;&lt;Link to=&quot;/counter/counterName&quot;&gt;counter&lt;/Link&gt;&lt;/li&gt;</span>
<span class="line">+                    &lt;li&gt;&lt;Link to={{ pathname: &quot;/todos&quot;, state: { name: &#39;todoName&#39; } }}&gt;todos&lt;/Link&gt;&lt;/+li&gt;</span>
<span class="line">+                &lt;/ul&gt;</span>
<span class="line">+                &lt;Route path=&quot;/counter/:name&quot; component={Counter} /&gt;</span>
<span class="line">+                &lt;Route path=&quot;/todos&quot; component={Todos} /&gt;</span>
<span class="line">            &lt;/React.Fragment&gt;</span>
<span class="line">        &lt;/Router&gt;</span>
<span class="line"></span>
<span class="line">    &lt;/Provider&gt;</span>
<span class="line">), document.getElementById(&#39;root&#39;));</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-2-counter-tsx" tabindex="-1"><a class="header-anchor" href="#_14-2-counter-tsx"><span>14.2 Counter.tsx</span></a></h3><p>src\\components\\Counter.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &#39;react&#39;;</span>
<span class="line">import { connect } from &#39;react-redux&#39;;</span>
<span class="line">import { CombinedState, CounterState } from &#39;../store/reducers&#39;;</span>
<span class="line">+import * as actions from &#39;@/store/actions/counter&#39;;</span>
<span class="line">+import { RouteComponentProps } from &#39;react-router-dom&#39;;</span>
<span class="line">+import { StaticContext} from &#39;react-router&#39;;</span>
<span class="line">+type StateProps = ReturnType&lt;typeof mapStateToProps&gt;;</span>
<span class="line">+type DispatchProps = typeof actions;</span>
<span class="line">+interface Params { name:string}</span>
<span class="line">+interface LocationState { }</span>
<span class="line">+type Props = StateProps &amp; DispatchProps &amp; RouteComponentProps&lt;Params, StaticContext,LocationState&gt;;</span>
<span class="line"></span>
<span class="line">class Counter extends React.Component&lt;Props&gt;{</span>
<span class="line">    render() {</span>
<span class="line">+        const { name} = this.props.match.params;</span>
<span class="line">        const { number } = this.props;</span>
<span class="line">        return (</span>
<span class="line">            &lt;div&gt;</span>
<span class="line">+                &lt;p&gt;名称:{name}&lt;/p&gt;</span>
<span class="line">                &lt;p&gt;{number}&lt;/p&gt;</span>
<span class="line">                &lt;button onClick={()=&gt;this.props.add()}&gt;+&lt;/button&gt;</span>
<span class="line">                &lt;button onClick={() =&gt; this.props.history.push({ pathname: &quot;/todos&quot;, state: { todoName: &#39;todoName&#39; } })}&gt;/todos&lt;/button&gt;</span>
<span class="line">            &lt;/div&gt;</span>
<span class="line">        )</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">let mapStateToProps = function (state: CombinedState): CounterState {</span>
<span class="line">    return state.counter;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">export default connect(mapStateToProps, actions)(Counter);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-3-todos-index-tsx" tabindex="-1"><a class="header-anchor" href="#_14-3-todos-index-tsx"><span>14.3 Todos\\index.tsx</span></a></h3><p>src\\components\\Todos\\index.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &#39;react&#39;;</span>
<span class="line">import TodoInput from &#39;./TodoInput&#39;;</span>
<span class="line">import TodoItem from &#39;./TodoItem&#39;;</span>
<span class="line">import { Todo} from &#39;@/models&#39;;</span>
<span class="line">+import { CombinedState, CounterState, TodosState } from &#39;@/store/reducers&#39;;</span>
<span class="line">+import { RouteComponentProps } from &#39;react-router-dom&#39;;</span>
<span class="line">+import { StaticContext } from &#39;react-router&#39;;</span>
<span class="line">+import * as actions from &#39;@/store/actions/todos&#39;;</span>
<span class="line">+import { connect } from &#39;react-redux&#39;;</span>
<span class="line">+type StateProps = ReturnType&lt;typeof mapStateToProps&gt;;</span>
<span class="line">+type DispatchProps = typeof actions;</span>
<span class="line">+const ulStyle: React.CSSProperties = {</span>
<span class="line">+    width: &quot;100px&quot;</span>
<span class="line">+};</span>
<span class="line">+export interface State {</span>
<span class="line">+    todos: Todo[]</span>
<span class="line">+}</span>
<span class="line">+interface Params {}</span>
<span class="line">+interface LocationState { name:string }</span>
<span class="line">+type Props = StateProps &amp; DispatchProps &amp; RouteComponentProps&lt;Params, StaticContext, LocationState&gt;;</span>
<span class="line">class Todos extends React.Component&lt;Props,State&gt;{</span>
<span class="line">    addTodo = (todo:Todo) =&gt;{</span>
<span class="line">       this.props.addTodo(todo);</span>
<span class="line">    }</span>
<span class="line">    render() {</span>
<span class="line">        return (</span>
<span class="line">            &lt;div&gt;</span>
<span class="line">+               &lt;p&gt;名称:{this.props.location.state.name}&lt;/p&gt;</span>
<span class="line">                &lt;TodoInput addTodo={this.addTodo}/&gt;</span>
<span class="line">                &lt;ul style={ulStyle}&gt;</span>
<span class="line">                    {</span>
<span class="line">                        this.props.list.map(todo=&gt;&lt;TodoItem key={todo.id} todo={todo}/&gt;)</span>
<span class="line">                    }</span>
<span class="line">                &lt;/ul&gt;</span>
<span class="line">            &lt;/div&gt;</span>
<span class="line">        )</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line">let mapStateToProps = function (state: CombinedState): TodosState {</span>
<span class="line">    return state.todos;</span>
<span class="line">}</span>
<span class="line">export default connect(mapStateToProps, actions)(Todos);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_15-connected-react-router" tabindex="-1"><a class="header-anchor" href="#_15-connected-react-router"><span>15. connected-react-router</span></a></h2><h3 id="_15-1-src-history-tsx" tabindex="-1"><a class="header-anchor" href="#_15-1-src-history-tsx"><span>15.1 src\\history.tsx</span></a></h3><p>src\\history.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createBrowserHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;history&#39;</span></span>
<span class="line"><span class="token keyword">const</span> history <span class="token operator">=</span> <span class="token function">createBrowserHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> history<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-2-src-index-tsx" tabindex="-1"><a class="header-anchor" href="#_15-2-src-index-tsx"><span>15.2 src\\index.tsx</span></a></h3><p>src\\index.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &#39;react&#39;;</span>
<span class="line">import * as ReactDOM from &#39;react-dom&#39;;</span>
<span class="line">import Counter from &#39;./components/Counter&#39;;</span>
<span class="line">import Todos from &#39;./components/Todos&#39;;</span>
<span class="line">import { Provider } from &#39;react-redux&#39;;</span>
<span class="line">import store from &#39;./store&#39;;</span>
<span class="line">import {Route, Link } from &#39;react-router-dom&#39;;</span>
<span class="line">+import history from &#39;@/history&#39;;</span>
<span class="line">+import {ConnectedRouter} from &#39;connected-react-router&#39;;</span>
<span class="line">ReactDOM.render((</span>
<span class="line">    &lt;Provider store={store}&gt;</span>
<span class="line">+        &lt;ConnectedRouter history={history} &gt;</span>
<span class="line">            &lt;React.Fragment&gt;</span>
<span class="line">                &lt;ul&gt;</span>
<span class="line">                    &lt;li&gt;&lt;Link to=&quot;/counter/counterName&quot;&gt;counter&lt;/Link&gt;&lt;/li&gt;</span>
<span class="line">                    &lt;li&gt;&lt;Link to={{ pathname: &quot;/todos&quot;, state: { name: &#39;todoName&#39; } }}&gt;todos&lt;/Link&gt;&lt;/li&gt;</span>
<span class="line">                &lt;/ul&gt;</span>
<span class="line">                &lt;Route path=&quot;/counter/:name&quot; component={Counter} /&gt;</span>
<span class="line">                &lt;Route path=&quot;/todos&quot; component={Todos} /&gt;</span>
<span class="line">            &lt;/React.Fragment&gt;</span>
<span class="line">+        &lt;/ConnectedRouter&gt;</span>
<span class="line">    &lt;/Provider&gt;</span>
<span class="line">), document.getElementById(&#39;root&#39;));</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-3-store-index-tsx" tabindex="-1"><a class="header-anchor" href="#_15-3-store-index-tsx"><span>15.3 store\\index.tsx</span></a></h3><p>src\\store\\index.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import { createStore, applyMiddleware } from &#39;redux&#39;</span>
<span class="line">+import combinedReducer from &#39;./reducers&#39;;</span>
<span class="line">+import { routerMiddleware } from &#39;connected-react-router&#39;;</span>
<span class="line">+import history from &#39;@/history&#39;;</span>
<span class="line"></span>
<span class="line">+let store =applyMiddleware(routerMiddleware(history))(createStore)(combinedReducer);</span>
<span class="line">export default store;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-4-reducers-index-tsx" tabindex="-1"><a class="header-anchor" href="#_15-4-reducers-index-tsx"><span>15.4 reducers\\index.tsx</span></a></h3><p>src\\store\\reducers\\index.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import counter, { CounterState} from &#39;./counter&#39;;</span>
<span class="line">import todos,{TodosState} from &#39;./todos&#39;;</span>
<span class="line">import { combineReducers } from &#39;redux&#39;;</span>
<span class="line">+import history from &#39;@/history&#39;;</span>
<span class="line">+import { connectRouter } from &#39;connected-react-router&#39;</span>
<span class="line">let reducers = {</span>
<span class="line">    counter,</span>
<span class="line">    todos,</span>
<span class="line">+    router: connectRouter(history)</span>
<span class="line">};</span>
<span class="line">type ReducersType = typeof reducers;</span>
<span class="line">type CombinedState = {</span>
<span class="line">    [key in keyof ReducersType]: ReturnType&lt;ReducersType[key]&gt;</span>
<span class="line">}</span>
<span class="line">export { CombinedState, CounterState, TodosState}</span>
<span class="line"></span>
<span class="line">let combinedReducer = combineReducers(reducers);</span>
<span class="line">export default combinedReducer;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-5-actions-counter-tsx" tabindex="-1"><a class="header-anchor" href="#_15-5-actions-counter-tsx"><span>15.5 actions\\counter.tsx</span></a></h3><p>src\\store\\actions\\counter.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import { ADD, MINUS } from &#39;../action-types&#39;;</span>
<span class="line">+import { push, CallHistoryMethodAction } from &#39;connected-react-router&#39;;</span>
<span class="line">+import { LocationDescriptorObject,Path} from &#39;history&#39;;</span>
<span class="line">+import { TodosLocationState} from &#39;@/components/Todos&#39;;</span>
<span class="line">export interface AddAction {</span>
<span class="line">    type: typeof ADD</span>
<span class="line">}</span>
<span class="line">export interface MinusAction {</span>
<span class="line">    type: typeof MINUS</span>
<span class="line">}</span>
<span class="line">export function add(): AddAction {</span>
<span class="line">    return { type: ADD };</span>
<span class="line">}</span>
<span class="line">export function minus(): MinusAction {</span>
<span class="line">    return { type: MINUS };</span>
<span class="line">}</span>
<span class="line">+export function go(path: LocationDescriptorObject&lt;TodosLocationState&gt;): CallHistoryMethodAction {</span>
<span class="line">+    return push(path);</span>
<span class="line">+}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-6-actions-index-tsx" tabindex="-1"><a class="header-anchor" href="#_15-6-actions-index-tsx"><span>15.6 actions\\index.tsx</span></a></h3><p>src\\store\\actions\\index.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import { AddAction,MinusAction} from &#39;./counter&#39;;</span>
<span class="line">import { AddTodoAction } from &#39;./todos&#39;;</span>
<span class="line">+import { CallHistoryMethodAction } from &#39;connected-react-router&#39;;</span>
<span class="line">+export type Action = AddAction | MinusAction | AddTodoAction | CallHistoryMethodAction;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-7-counter-tsx" tabindex="-1"><a class="header-anchor" href="#_15-7-counter-tsx"><span>15.7 Counter.tsx</span></a></h3><p>src\\components\\Counter.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &#39;react&#39;;</span>
<span class="line">import { connect } from &#39;react-redux&#39;;</span>
<span class="line">import { CombinedState, CounterState } from &#39;../store/reducers&#39;;</span>
<span class="line">import * as actions from &#39;@/store/actions/counter&#39;;</span>
<span class="line">import { RouteComponentProps } from &#39;react-router-dom&#39;;</span>
<span class="line">+import { StaticContext} from &#39;react-router&#39;;</span>
<span class="line">+import { LocationDescriptorObject} from &#39;history&#39;;</span>
<span class="line">+import { TodosLocationState } from &#39;@/components/Todos&#39;;</span>
<span class="line">+type StateProps = ReturnType&lt;typeof mapStateToProps&gt;;</span>
<span class="line">+type DispatchProps = typeof actions;</span>
<span class="line">+interface Params { name:string}</span>
<span class="line">+interface CounterLocationState { }</span>
<span class="line">+type Props = StateProps &amp; DispatchProps &amp; RouteComponentProps&lt;Params, StaticContext, CounterLocationState&gt;;</span>
<span class="line">class Counter extends React.Component&lt;Props&gt;{</span>
<span class="line">    render() {</span>
<span class="line">+       const { name} = this.props.match.params;</span>
<span class="line">        const { number } = this.props;</span>
<span class="line">+        let path: LocationDescriptorObject&lt;TodosLocationState&gt; = { pathname: &quot;/todos&quot;, state: { name: &#39;todoName&#39; } };</span>
<span class="line">        return (</span>
<span class="line">            &lt;div&gt;</span>
<span class="line">+                &lt;p&gt;名称:{name}&lt;/p&gt;</span>
<span class="line">                &lt;p&gt;{number}&lt;/p&gt;</span>
<span class="line">                &lt;button onClick={()=&gt;this.props.add()}&gt;+&lt;/button&gt;</span>
<span class="line">                &lt;button onClick={() =&gt; this.props.go(path)}&gt;/todos&lt;/button&gt;</span>
<span class="line">            &lt;/div&gt;</span>
<span class="line">        )</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">let mapStateToProps = function (state: CombinedState): CounterState {</span>
<span class="line">    return state.counter;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">export default connect(mapStateToProps, actions)(Counter);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_15-8-todos-index-tsx" tabindex="-1"><a class="header-anchor" href="#_15-8-todos-index-tsx"><span>15.8 Todos\\index.tsx</span></a></h3><p>src\\components\\Todos\\index.tsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import * as React from &#39;react&#39;;</span>
<span class="line">import TodoInput from &#39;./TodoInput&#39;;</span>
<span class="line">import TodoItem from &#39;./TodoItem&#39;;</span>
<span class="line">import { Todo} from &#39;@/models&#39;;</span>
<span class="line">import { CombinedState, CounterState, TodosState } from &#39;@/store/reducers&#39;;</span>
<span class="line">import { RouteComponentProps } from &#39;react-router-dom&#39;;</span>
<span class="line">import { StaticContext } from &#39;react-router&#39;;</span>
<span class="line">import * as actions from &#39;@/store/actions/todos&#39;;</span>
<span class="line">import { connect } from &#39;react-redux&#39;;</span>
<span class="line">type StateProps = ReturnType&lt;typeof mapStateToProps&gt;;</span>
<span class="line">type DispatchProps = typeof actions;</span>
<span class="line">const ulStyle: React.CSSProperties = {</span>
<span class="line">    width: &quot;100px&quot;</span>
<span class="line">};</span>
<span class="line">export interface State {</span>
<span class="line">    todos: Todo[]</span>
<span class="line">}</span>
<span class="line">+interface Params {}</span>
<span class="line">+export interface TodosLocationState { name: string }</span>
<span class="line">+type Props = StateProps &amp; DispatchProps &amp; RouteComponentProps&lt;Params, StaticContext, TodosLocationState&gt;;</span>
<span class="line">class Todos extends React.Component&lt;Props,State&gt;{</span>
<span class="line">    addTodo = (todo:Todo) =&gt;{</span>
<span class="line">       this.props.addTodo(todo);</span>
<span class="line">    }</span>
<span class="line">    render() {</span>
<span class="line">        return (</span>
<span class="line">            &lt;div&gt;</span>
<span class="line">+                &lt;p&gt;名称:{this.props.location.state.name}&lt;/p&gt;</span>
<span class="line">                &lt;TodoInput addTodo={this.addTodo}/&gt;</span>
<span class="line">                &lt;ul style={ulStyle}&gt;</span>
<span class="line">                    {</span>
<span class="line">                        this.props.list.map(todo=&gt;&lt;TodoItem key={todo.id} todo={todo}/&gt;)</span>
<span class="line">                    }</span>
<span class="line">                &lt;/ul&gt;</span>
<span class="line">            &lt;/div&gt;</span>
<span class="line">        )</span>
<span class="line">    }</span>
<span class="line">}</span>
<span class="line">let mapStateToProps = function (state: CombinedState): TodosState {</span>
<span class="line">    return state.todos;</span>
<span class="line">}</span>
<span class="line">export default connect(mapStateToProps, actions)(Todos);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_16-redux-thunk" tabindex="-1"><a class="header-anchor" href="#_16-redux-thunk"><span>16. redux-thunk</span></a></h2><h3 id="_16-1-redux-thunk-index-tsx" tabindex="-1"><a class="header-anchor" href="#_16-1-redux-thunk-index-tsx"><span>16.1 redux-thunk\\index.tsx</span></a></h3><p>src\\redux-thunk\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span></span>
<span class="line">    Middleware<span class="token punctuation">,</span></span>
<span class="line">    Dispatch<span class="token punctuation">,</span></span>
<span class="line">    MiddlewareAPI<span class="token punctuation">,</span></span>
<span class="line">    Action</span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;redux&quot;</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> type ThunkAction<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token punctuation">,</span><span class="token constant">S</span><span class="token punctuation">,</span><span class="token constant">E</span><span class="token punctuation">,</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token class-name">Action</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token literal-property property">dispatch</span><span class="token operator">:</span> ThunkDispatch<span class="token operator">&lt;</span><span class="token constant">S</span><span class="token punctuation">,</span><span class="token constant">E</span><span class="token punctuation">,</span> <span class="token constant">A</span><span class="token operator">&gt;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function-variable function">getState</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">S</span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">ThunkDispatch</span><span class="token operator">&lt;</span><span class="token constant">S</span><span class="token punctuation">,</span><span class="token constant">E</span><span class="token punctuation">,</span> <span class="token constant">A</span> <span class="token keyword">extends</span> <span class="token class-name">Action</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> <span class="token class-name">A</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>action<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token constant">R</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>asyncAction<span class="token operator">:</span> ThunkAction<span class="token operator">&lt;</span><span class="token constant">R</span><span class="token punctuation">,</span><span class="token constant">S</span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token punctuation">,</span> <span class="token constant">A</span><span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">R</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">type ThunkDispatched <span class="token operator">=</span> ThunkDispatch<span class="token operator">&lt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">undefined</span><span class="token punctuation">,</span> Action<span class="token operator">&gt;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> <span class="token literal-property property">thunk</span><span class="token operator">:</span> Middleware<span class="token operator">&lt;</span></span>
<span class="line">    ThunkDispatched<span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    ThunkDispatched</span>
<span class="line"><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">api</span><span class="token operator">:</span> MiddlewareAPI<span class="token operator">&lt;</span>ThunkDispatched<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token parameter"><span class="token literal-property property">next</span><span class="token operator">:</span> Dispatch<span class="token operator">&lt;</span>Action<span class="token operator">&gt;</span></span></span>
<span class="line"><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>action<span class="token operator">:</span> Function <span class="token operator">|</span> Action<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter">any</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> action <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">return</span> <span class="token function">action</span><span class="token punctuation">(</span>api<span class="token punctuation">.</span>dispatch<span class="token punctuation">,</span> api<span class="token punctuation">.</span>getState<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token function">next</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> thunk<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_16-2-store-index-tsx" tabindex="-1"><a class="header-anchor" href="#_16-2-store-index-tsx"><span>16.2 store\\index.tsx</span></a></h3><p>src\\store\\index.tsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span></span>
<span class="line">    createStore<span class="token punctuation">,</span></span>
<span class="line">    applyMiddleware<span class="token punctuation">,</span></span>
<span class="line">    Action<span class="token punctuation">,</span></span>
<span class="line">    Store<span class="token punctuation">,</span></span>
<span class="line">    AnyAction<span class="token punctuation">,</span></span>
<span class="line">    StoreEnhancer<span class="token punctuation">,</span></span>
<span class="line">    StoreEnhancerStoreCreator</span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;redux&quot;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> combinedReducer<span class="token punctuation">,</span><span class="token punctuation">{</span>CombinedState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./reducers&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> routerMiddleware <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;connected-react-router&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> history <span class="token keyword">from</span> <span class="token string">&#39;@/history&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">//import thunk, { ThunkAction, ThunkDispatch } from &#39;redux-thunk&#39;;</span></span>
<span class="line"><span class="token keyword">import</span> thunk<span class="token punctuation">,</span> <span class="token punctuation">{</span> ThunkAction<span class="token punctuation">,</span> ThunkDispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/redux-thunk&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">Ext</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">dispatch</span><span class="token operator">:</span> ThunkDispatch<span class="token operator">&lt;</span>CombinedState<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> AnyAction<span class="token operator">&gt;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">StateExt</span><span class="token punctuation">{</span><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">storeEnhancer</span><span class="token operator">:</span> StoreEnhancer <span class="token operator">=</span> <span class="token function">applyMiddleware</span><span class="token punctuation">(</span><span class="token function">routerMiddleware</span><span class="token punctuation">(</span>history<span class="token punctuation">)</span><span class="token punctuation">,</span>thunk<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">storeEnhancerStoreCreator</span><span class="token operator">:</span> StoreEnhancerStoreCreator <span class="token operator">=</span> <span class="token function">storeEnhancer</span><span class="token punctuation">(</span>createStore<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">store</span><span class="token operator">:</span> Store<span class="token operator">&lt;</span>CombinedState <span class="token operator">&amp;</span> StateExt<span class="token punctuation">,</span> AnyAction<span class="token operator">&gt;</span> <span class="token operator">&amp;</span> Ext <span class="token operator">=</span> <span class="token function">storeEnhancerStoreCreator</span><span class="token punctuation">(</span>combinedReducer<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> <span class="token literal-property property">thunkAction</span><span class="token operator">:</span> ThunkAction<span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token punctuation">,</span>CombinedState<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> AnyAction<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token literal-property property">dispatch</span><span class="token operator">:</span> ThunkDispatch<span class="token operator">&lt;</span>CombinedState<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> AnyAction<span class="token operator">&gt;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function-variable function">getState</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> CombinedState</span>
<span class="line"><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span></span>
<span class="line">store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>thunkAction<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> store<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2><ul><li><a href="http://www.ruanyifeng.com/blog/2016/01/commit_message_change_log.html" target="_blank" rel="noopener noreferrer">commit_message_change_log</a></li></ul>`,240))])}const g=r(k,[["render",v]]),y=JSON.parse('{"path":"/strong/114.react_typescript.html","title":"","lang":"en-US","frontmatter":{},"git":{"updatedTime":1681290319000,"contributors":[{"name":"yutao","username":"yutao","email":"642231346@qq.com","commits":1,"url":"https://github.com/yutao"}],"changelog":[{"hash":"f5ab8c9d34991ec274f7f652439afe5b2afb6147","time":1681290319000,"email":"642231346@qq.com","author":"yutao","message":"modify"}]},"filePathRelative":"strong/114.react+typescript.md"}');export{g as comp,y as data};
