import{_ as n,c as a,a as e,o as p}from"./app-CD1YpnS1.js";const t={};function l(i,s){return p(),a("div",null,[...s[0]||(s[0]=[e(`<h2 id="_1-css模块化方案" tabindex="-1"><a class="header-anchor" href="#_1-css模块化方案"><span>1. CSS模块化方案</span></a></h2><h3 id="_1-1-css-命名方法" tabindex="-1"><a class="header-anchor" href="#_1-1-css-命名方法"><span>1.1 CSS 命名方法</span></a></h3><ul><li>通过人工的方式来约定命名规则</li><li><a href="https://www.bemcss.com/" target="_blank" rel="noopener noreferrer">BEM</a>是一种典型的 CSS 命名方法论,BEM的命名规矩就是<code>block-name__element-name--modifier-name</code>，也就是模块名 + 元素名 + 修饰器名</li><li><a href="http://oocss.org" target="_blank" rel="noopener noreferrer">OOCSS</a>（Object-Oriented CSS）即面向对象的 CSS，它借鉴了 OOP（面向对象编程）的抽象思维，主张将元素的样式抽象成多个独立的小型样式类，来提高样式的灵活性和可重用性。</li><li><a href="https://itcss.io" target="_blank" rel="noopener noreferrer">ITCSS</a>（Inverted Triangle CSS，倒三角 CSS）是一套方便扩展和管理的 CSS 体系架构，它兼容 BEM、OOCSS、SMACSS 等 CSS 命名方法论</li><li><a href="http://smacss.com" target="_blank" rel="noopener noreferrer">SMACSS</a>即可伸缩及模块化的 CSS 结构</li></ul><h3 id="_1-2-css-modules" tabindex="-1"><a class="header-anchor" href="#_1-2-css-modules"><span>1.2 CSS Modules</span></a></h3><ul><li>CSS Modules：一个 CSS 文件就是一个独立的模块,核心思想是 通过组件名的唯一性来保证选择器的唯一性，从而保证样式不会污染到组件外</li><li><a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener noreferrer">CSS Modules</a>允许我们像 import 一个 JS Module 一样去 import 一个 CSS Module.每一个 CSS 文件都是一个独立的模块，每一个类名都是该模块所导出对象的一个属性。通过这种方式，便可在使用时明确指定所引用的 CSS 样式。并且，CSS Modules 在打包时会自动将 id 和 class 混淆成全局唯一的 hash 值，从而避免发生命名冲突问题。</li><li>使用 CSS Modules 时，推荐配合 CSS 预处理器（Sass/Less/Stylus）一起使用</li><li>CSS 预处理器提供了许多有用的功能，如嵌套、变量、mixins、functions 等，同时也让定义本地名称或全局名称变得容易</li></ul><h3 id="_1-3-css-in-js" tabindex="-1"><a class="header-anchor" href="#_1-3-css-in-js"><span>1.3 CSS-in-JS</span></a></h3><ul><li>React 的出现，打破了以前<code>关注点分离</code>的网页开发原则，因其采用组件结构，而组件又强制要求将 HTML、CSS 和 JS 代码写在一起。表面上看是技术的倒退，实际上并不是</li><li>React 是在 JS 中实现了对 HTML 和 CSS 的封装，赋予了 HTML 和 CSS 全新的<code>编程能力</code>。对于 HTML，衍生了 JSX 这种 JS 的语法扩展，你可以将其理解为 <code>HTML-in-JS</code>；对于 CSS，衍生出一系列的第三方库，用来加强在 JS 中操作 CSS 的能力，它们被称为 <code>CSS-in-JS</code></li><li>随着 React 的流行以及组件化开发模式的深入人心，这种<code>关注点混合</code>的新写法逐渐成为主流</li><li>实现 <ul><li><a href="https://github.com/styled-components/styled-components" target="_blank" rel="noopener noreferrer">styled-components</a> 36.7K</li><li><a href="https://github.com/emotion-js/emotion" target="_blank" rel="noopener noreferrer">emotion</a> 15K</li></ul></li></ul><p><img src="https://static.zhufengpeixun.com/20220605190114_1654426961172.png" alt=""></p><h4 id="_1-3-1-案例" tabindex="-1"><a class="header-anchor" href="#_1-3-1-案例"><span>1.3.1 案例</span></a></h4><ul><li><a href="https://github.com/mui-org/material-ui" target="_blank" rel="noopener noreferrer">material-ui</a>世界上最受欢迎的 React UI 框架</li></ul><h4 id="_1-3-2-css-in-js优缺点" tabindex="-1"><a class="header-anchor" href="#_1-3-2-css-in-js优缺点"><span>1.3.2 CSS-IN-JS优缺点</span></a></h4><ul><li>优点</li><li><code>Scoping Styles</code> 可以让CSS拥有独立的作用域，实现局部样式，防止样式冲突和影响组件外的内容</li><li><code>Dead Code Elimination</code> 避免无用的CSS样式堆积</li><li><code>Critical CSS</code> 重要的CSS放在头部的<code>style</code>标签内，其它的CSS异步加载可以减少渲染阻塞</li><li><code>State-based styling</code> 根据组件的状态动态地生成样式</li><li><code>更彻底的封装</code> 让组件拥有更好的移植性和重用性</li><li>缺点</li><li><code>Steep learning curve</code> 陡峭的学习曲线</li><li><code>Runtime cost</code> 运行时消耗</li><li><code>Unreadable class names</code> 代码可读性差</li><li><code>No interoperability</code>没有统一的 <a href="https://github.com/cssinjs/istf-spec" target="_blank" rel="noopener noreferrer">业界标准</a></li></ul><h4 id="_1-3-3-选型" tabindex="-1"><a class="header-anchor" href="#_1-3-3-选型"><span>1.3.3 选型</span></a></h4><ul><li>我们一定要根据自己的实际情况进行衡量和取舍来确定是不是要在自己的项目中使用它 <ul><li>前端初学者、页面功能简单、重视代码可读性和可维护性不要选择</li><li>如果经验丰富、应用交互逻辑复杂、重视封装性和可移植性可以尝试</li></ul></li></ul><h2 id="_2-emotion" tabindex="-1"><a class="header-anchor" href="#_2-emotion"><span>2. emotion</span></a></h2><ul><li><a href="https://emotion.sh/docs/introduction" target="_blank" rel="noopener noreferrer">emotion</a>是一个用JS编写CSS样式的库</li><li><code>emotion</code>是新一代的<code>CSS-IN-JS</code>解决方案</li><li><code>CSS-in-JS</code>实现是通过生成唯一的CSS选择器来达到CSS局部作用域的效果</li></ul><h2 id="_3-emotion-css" tabindex="-1"><a class="header-anchor" href="#_3-emotion-css"><span>3.@emotion/css</span></a></h2><ul><li><a href="https://www.npmjs.com/package/@emotion/css" target="_blank" rel="noopener noreferrer">@emotion/css</a>与框架无关，是使用 Emotion 的最简单方法</li><li>不需要额外的设置、babel插件或其他配置更改</li><li>支持自动供应商前缀、嵌套选择器和媒体查询</li></ul><h3 id="_3-1-模板字符串" tabindex="-1"><a class="header-anchor" href="#_3-1-模板字符串"><span>3.1 模板字符串</span></a></h3><h4 id="_3-1-1-src-main-jsx" tabindex="-1"><a class="header-anchor" href="#_3-1-1-src-main-jsx"><span>3.1.1 src\\main.jsx</span></a></h4><p>src\\main.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span></span>
<span class="line"><span class="token keyword">import</span> ReactDOM <span class="token keyword">from</span> <span class="token string">&#39;react-dom&#39;</span></span>
<span class="line"><span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App&#39;</span></span>
<span class="line">ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span></span>
<span class="line">  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-2-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_3-1-2-src-app-jsx"><span>3.1.2 src\\App.jsx</span></a></h4><p>src\\App.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> css <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./@emotion/css&#39;</span></span>
<span class="line"><span class="token keyword">const</span> className <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line"> color: red;</span>
<span class="line"></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token punctuation">{</span>className<span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="line">      App</span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> App</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-3-css-index-js" tabindex="-1"><a class="header-anchor" href="#_3-1-3-css-index-js"><span>3.1.3 css\\index.js</span></a></h4><p>src\\@emotion\\css\\index.js</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> css <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./css&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_3-1-4-css-js" tabindex="-1"><a class="header-anchor" href="#_3-1-4-css-js"><span>3.1.4 css.js</span></a></h4><p>src\\@emotion\\css\\css.js</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> serializeStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../serialize&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> insertStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../utils&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">css</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> serialized <span class="token operator">=</span> <span class="token function">serializeStyles</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token function">insertStyles</span><span class="token punctuation">(</span>serialized<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token string">&#39;css&#39;</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> serialized<span class="token punctuation">.</span>name<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> css<span class="token punctuation">;</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-5-serialize-index-jsx" tabindex="-1"><a class="header-anchor" href="#_3-1-5-serialize-index-jsx"><span>3.1.5 serialize\\index.jsx</span></a></h4><p>src\\@emotion\\serialize\\index.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> serializeStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./serializeStyles&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_3-1-6-serializestyles-jsx" tabindex="-1"><a class="header-anchor" href="#_3-1-6-serializestyles-jsx"><span>3.1.6 serializeStyles.jsx</span></a></h4><p>src\\@emotion\\serialize\\serializeStyles.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> hashString <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../utils&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">serializeStyles</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">let</span> styles <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> strings <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  styles <span class="token operator">+=</span> strings<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> name <span class="token operator">=</span> <span class="token function">hashString</span><span class="token punctuation">(</span>styles<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> styles <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> serializeStyles<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-7-utils-index-jsx" tabindex="-1"><a class="header-anchor" href="#_3-1-7-utils-index-jsx"><span>3.1.7 utils\\index.jsx</span></a></h4><p>src\\@emotion\\utils\\index.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> insertStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./insertStyles&#39;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> hashString <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./hashString&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-8-hashstring-jsx" tabindex="-1"><a class="header-anchor" href="#_3-1-8-hashstring-jsx"><span>3.1.8 hashString.jsx</span></a></h4><p>src\\@emotion\\utils\\hashString.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">function</span> <span class="token function">hashString</span><span class="token punctuation">(</span><span class="token parameter">keys</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">let</span> val <span class="token operator">=</span> <span class="token number">10000000</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    val <span class="token operator">+=</span> keys<span class="token punctuation">.</span><span class="token function">charCodeAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> val<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> hashString<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-1-9-insertstyles-jsx" tabindex="-1"><a class="header-anchor" href="#_3-1-9-insertstyles-jsx"><span>3.1.9 insertStyles.jsx</span></a></h4><p>src\\@emotion\\utils\\insertStyles.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">function</span> <span class="token function">insertStyles</span><span class="token punctuation">(</span><span class="token parameter">serialized</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> className <span class="token operator">=</span> <span class="token string">&#39;css&#39;</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> serialized<span class="token punctuation">.</span>name<span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> rule <span class="token operator">=</span> <span class="token string">&quot;.&quot;</span> <span class="token operator">+</span> className <span class="token operator">+</span> <span class="token string">&quot;{&quot;</span> <span class="token operator">+</span> serialized<span class="token punctuation">.</span>styles <span class="token operator">+</span> <span class="token string">&quot;}&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> tag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;style&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  tag<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;data-emotion&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;css&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  tag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span>rule<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>tag<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> insertStyles<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2-对象" tabindex="-1"><a class="header-anchor" href="#_3-2-对象"><span>3.2 对象</span></a></h3><h4 id="_3-2-1-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_3-2-1-src-app-jsx"><span>3.2.1 src\\App.jsx</span></a></h4><p>src\\App.jsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import { css } from &#39;./@emotion/css&#39;</span>
<span class="line">+const className = css(</span>
<span class="line">+  {</span>
<span class="line">+    color: &#39;red&#39;</span>
<span class="line">+  }</span>
<span class="line">+);</span>
<span class="line">function App() {</span>
<span class="line">  return (</span>
<span class="line">    &lt;div className={className}&gt;</span>
<span class="line">      App</span>
<span class="line">    &lt;/div&gt;</span>
<span class="line">  )</span>
<span class="line">}</span>
<span class="line">export default App</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-2-2-serializestyles-jsx" tabindex="-1"><a class="header-anchor" href="#_3-2-2-serializestyles-jsx"><span>3.2.2 serializeStyles.jsx</span></a></h4><p>src\\@emotion\\serialize\\serializeStyles.jsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import { hashString } from &#39;../utils&#39;;</span>
<span class="line">function serializeStyles(args) {</span>
<span class="line">  var styles = &#39;&#39;;</span>
<span class="line">  var strings = args[0];</span>
<span class="line">+ if (strings.raw === undefined) {</span>
<span class="line">+   styles += handleInterpolation(strings);</span>
<span class="line">+ } else {</span>
<span class="line">+   styles += strings[0];</span>
<span class="line">+ }</span>
<span class="line">  var name = hashString(styles);</span>
<span class="line">  return { name, styles }</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">+function handleInterpolation(interpolation) {</span>
<span class="line">+  switch (typeof interpolation) {</span>
<span class="line">+    case &#39;object&#39;: {</span>
<span class="line">+      return createStringFromObject(interpolation);</span>
<span class="line">+    }</span>
<span class="line">+  }</span>
<span class="line">+}</span>
<span class="line">+function createStringFromObject(obj) {</span>
<span class="line">+  var string = &#39;&#39;;</span>
<span class="line">+  for (var key in obj) {</span>
<span class="line">+    var value = obj[key];</span>
<span class="line">+    string += key + &quot;:&quot; + value + &quot;;&quot;;</span>
<span class="line">+  }</span>
<span class="line">+  return string;</span>
<span class="line">+}</span>
<span class="line">export default serializeStyles;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-emotion-react" tabindex="-1"><a class="header-anchor" href="#_4-emotion-react"><span>4.@emotion/react</span></a></h2><ul><li><a href="https://www.npmjs.com/package/@emotion/react" target="_blank" rel="noopener noreferrer">@emotion/react</a>包需要React</li><li>最好将React与可配置的构建环境一起使用</li><li>css属性支持 <ul><li>类似于<code>style prop</code>，但也支持自动供应商前缀、嵌套选择器和媒体查询</li></ul></li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">npm install @emotion/react --save</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>pragma(注解) and pragmaFrag cannot be set when runtime is automatic.</li></ul><h3 id="_4-1-vite-config-js" tabindex="-1"><a class="header-anchor" href="#_4-1-vite-config-js"><span>4.1 vite.config.js</span></a></h3><p>vite.config.js</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import { defineConfig } from &#39;vite&#39;</span>
<span class="line">import react from &#39;@vitejs/plugin-react&#39;</span>
<span class="line">export default defineConfig({</span>
<span class="line">  plugins: [react(</span>
<span class="line">    {</span>
<span class="line">+     jsxRuntime: &#39;classic&#39;</span>
<span class="line">    }</span>
<span class="line">  )]</span>
<span class="line">})</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_4-2-src-app-jsx"><span>4.2 src\\App.jsx</span></a></h3><p>src\\App.jsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">+/** @jsx jsx */</span>
<span class="line">+import { css, jsx } from &#39;./@emotion/react&#39;</span>
<span class="line">+const styles = css(</span>
<span class="line">+  {</span>
<span class="line">+    color: &#39;red&#39;</span>
<span class="line">+  }</span>
<span class="line">+);</span>
<span class="line">function App() {</span>
<span class="line">  return (</span>
<span class="line">+   &lt;div css={styles}&gt;</span>
<span class="line">      App</span>
<span class="line">    &lt;/div&gt;</span>
<span class="line">  )</span>
<span class="line">}</span>
<span class="line">export default App</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3-react-index-jsx" tabindex="-1"><a class="header-anchor" href="#_4-3-react-index-jsx"><span>4.3 react\\index.jsx</span></a></h3><p>src\\@emotion\\react\\index.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> css <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./css&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token keyword">default</span> <span class="token keyword">as</span> jsx <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./jsx&#39;</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-4-css-jsx" tabindex="-1"><a class="header-anchor" href="#_4-4-css-jsx"><span>4.4 css.jsx</span></a></h3><p>src\\@emotion\\react\\css.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> serializeStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../serialize&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">css</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token function">serializeStyles</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> css<span class="token punctuation">;</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-5-jsx-jsx" tabindex="-1"><a class="header-anchor" href="#_4-5-jsx-jsx"><span>4.5 jsx.jsx</span></a></h3><p>src\\@emotion\\react\\jsx.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> serializeStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../serialize&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Insertion <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../utils&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">Emotion</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> serialized <span class="token operator">=</span> <span class="token function">serializeStyles</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>css<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> css<span class="token punctuation">,</span> <span class="token operator">...</span>newProps <span class="token punctuation">}</span> <span class="token operator">=</span> props</span>
<span class="line">  newProps<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&#39;css&#39;</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> serialized<span class="token punctuation">.</span>name<span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">const</span> WrappedComponent <span class="token operator">=</span> props<span class="token punctuation">.</span>type<span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span>Insertion serialized<span class="token operator">=</span><span class="token punctuation">{</span>serialized<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span>WrappedComponent <span class="token punctuation">{</span><span class="token operator">...</span>newProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">jsx</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> props<span class="token punctuation">,</span> <span class="token operator">...</span>children</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span>Emotion <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> type<span class="token operator">=</span><span class="token punctuation">{</span>type<span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="line">      <span class="token punctuation">{</span>children<span class="token punctuation">}</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>Emotion <span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> jsx<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-6-serializestyles-jsx" tabindex="-1"><a class="header-anchor" href="#_4-6-serializestyles-jsx"><span>4.6 serializeStyles.jsx</span></a></h3><p>src\\@emotion\\serialize\\serializeStyles.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> hashString <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../utils&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">serializeStyles</span><span class="token punctuation">(</span><span class="token parameter">args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token operator">+</span>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> args <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">&amp;&amp;</span> args<span class="token punctuation">.</span>styles <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token operator">+</span>    <span class="token keyword">return</span> args<span class="token punctuation">;</span></span>
<span class="line"><span class="token operator">+</span>  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">var</span> styles <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">var</span> strings <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>strings <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> strings<span class="token punctuation">.</span>raw <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    styles <span class="token operator">+=</span> <span class="token function">handleInterpolation</span><span class="token punctuation">(</span>strings<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    styles <span class="token operator">+=</span> strings<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token function">hashString</span><span class="token punctuation">(</span>styles<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> styles <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">handleInterpolation</span><span class="token punctuation">(</span><span class="token parameter">interpolation</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> interpolation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;object&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token function">createStringFromObject</span><span class="token punctuation">(</span>interpolation<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">createStringFromObject</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> value <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    string <span class="token operator">+=</span> key <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> value <span class="token operator">+</span> <span class="token string">&quot;;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> string<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> serializeStyles<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-7-insertion-jsx" tabindex="-1"><a class="header-anchor" href="#_4-7-insertion-jsx"><span>4.7 Insertion.jsx</span></a></h3><p>src\\@emotion\\utils\\Insertion.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useLayoutEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> insertStyles <span class="token keyword">from</span> <span class="token string">&#39;./insertStyles&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">Insertion</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> serialized <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token function">useLayoutEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function">insertStyles</span><span class="token punctuation">(</span>serialized<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> Insertion<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-8-utils-index-jsx" tabindex="-1"><a class="header-anchor" href="#_4-8-utils-index-jsx"><span>4.8 utils\\index.jsx</span></a></h3><p>src\\@emotion\\utils\\index.jsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">export { default as insertStyles } from &#39;./insertStyles&#39;;</span>
<span class="line">export { default as hashString } from &#39;./hashString&#39;;</span>
<span class="line">+export { default as Insertion } from &#39;./Insertion&#39;;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-emotion-styled" tabindex="-1"><a class="header-anchor" href="#_5-emotion-styled"><span>5. @emotion/styled</span></a></h2><ul><li><a href="https://emotion.sh/docs/@emotion/styled" target="_blank" rel="noopener noreferrer">styled</a>是一种创建附加样式的React组件的方法</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">npm install @emotion/styled --save</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_5-1-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_5-1-src-app-jsx"><span>5.1 src\\App.jsx</span></a></h3><p>src\\App.jsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">+import styled from &#39;./@emotion/styled&#39;</span>
<span class="line">+const Button = styled.button(</span>
<span class="line">  {</span>
<span class="line">    color: &#39;red&#39;</span>
<span class="line">  }</span>
<span class="line">+);</span>
<span class="line">function App() {</span>
<span class="line">  return (</span>
<span class="line">+   &lt;Button&gt;Button&lt;/Button&gt;</span>
<span class="line">  )</span>
<span class="line">}</span>
<span class="line">export default App</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5-2-styled-index-jsx" tabindex="-1"><a class="header-anchor" href="#_5-2-styled-index-jsx"><span>5.2 styled\\index.jsx</span></a></h3><p>src\\@emotion\\styled\\index.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> serializeStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../serialize&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> Insertion <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../utils&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">createStyled</span><span class="token punctuation">(</span><span class="token parameter">tag</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">function</span> <span class="token function">Styled</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">const</span> serialized <span class="token operator">=</span> <span class="token function">serializeStyles</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">const</span> className <span class="token operator">=</span> <span class="token string">&#39;css&#39;</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> serialized<span class="token punctuation">.</span>name<span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">const</span> newProps <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>props <span class="token punctuation">}</span><span class="token punctuation">;</span></span>
<span class="line">      newProps<span class="token punctuation">.</span>className <span class="token operator">=</span> className<span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">const</span> FinalTag <span class="token operator">=</span> tag<span class="token punctuation">;</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">        <span class="token operator">&lt;</span><span class="token operator">&gt;</span></span>
<span class="line">          <span class="token operator">&lt;</span>Insertion serialized<span class="token operator">=</span><span class="token punctuation">{</span>serialized<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">          <span class="token operator">&lt;</span>FinalTag <span class="token punctuation">{</span><span class="token operator">...</span>newProps<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">        <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">      <span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    <span class="token keyword">return</span> Styled<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">const</span> newStyled <span class="token operator">=</span> <span class="token function">createStyled</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">const</span> tags <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;button&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;div&#39;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">tags<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">tagName</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  newStyled<span class="token punctuation">[</span>tagName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">newStyled</span><span class="token punctuation">(</span>tagName<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> newStyled<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-根据props属性覆盖样式" tabindex="-1"><a class="header-anchor" href="#_6-根据props属性覆盖样式"><span>6. 根据props属性覆盖样式</span></a></h2><h3 id="_6-1-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_6-1-src-app-jsx"><span>6.1 src\\App.jsx</span></a></h3><p>src\\App.jsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import styled from &#39;./@emotion/styled&#39;</span>
<span class="line">const Button = styled.button(</span>
<span class="line">  {</span>
<span class="line">    background: &#39;green&#39;,</span>
<span class="line">    color: &#39;red&#39;</span>
<span class="line">+ }, props =&gt; ({</span>
<span class="line">+   color: props.color</span>
<span class="line">+ })</span>
<span class="line">);</span>
<span class="line">function App() {</span>
<span class="line">  return (</span>
<span class="line">+   &lt;Button color=&quot;white&quot;&gt;Button&lt;/Button&gt;</span>
<span class="line">  )</span>
<span class="line">}</span>
<span class="line">export default App</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2-styled-index-jsx" tabindex="-1"><a class="header-anchor" href="#_6-2-styled-index-jsx"><span>6.2 styled\\index.jsx</span></a></h3><p>src\\@emotion\\styled\\index.jsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import { serializeStyles } from &#39;../serialize&#39;;</span>
<span class="line">import { Insertion } from &#39;../utils&#39;;</span>
<span class="line">function createStyled(tag) {</span>
<span class="line">  return function (...args) {</span>
<span class="line">    function Styled(props) {</span>
<span class="line">+     const serialized = serializeStyles(args, props);</span>
<span class="line">      const className = &#39;css&#39; + &quot;-&quot; + serialized.name;</span>
<span class="line">      const newProps = { ...props };</span>
<span class="line">      newProps.className = className;</span>
<span class="line">      const FinalTag = tag;</span>
<span class="line">      return (</span>
<span class="line">        &lt;&gt;</span>
<span class="line">          &lt;Insertion serialized={serialized} /&gt;</span>
<span class="line">          &lt;FinalTag {...newProps} /&gt;</span>
<span class="line">        &lt;/&gt;</span>
<span class="line">      )</span>
<span class="line">    }</span>
<span class="line">    return Styled;</span>
<span class="line">  }</span>
<span class="line">}</span>
<span class="line">const newStyled = createStyled.bind();</span>
<span class="line">const tags = [&#39;button&#39;, &#39;div&#39;];</span>
<span class="line">tags.forEach(function (tagName) {</span>
<span class="line">  newStyled[tagName] = newStyled(tagName);</span>
<span class="line">});</span>
<span class="line">export default newStyled;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-3-serializestyles-jsx" tabindex="-1"><a class="header-anchor" href="#_6-3-serializestyles-jsx"><span>6.3 serializeStyles.jsx</span></a></h3><p>src\\@emotion\\serialize\\serializeStyles.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> hashString <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../utils&#39;</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token operator">+</span><span class="token keyword">function</span> <span class="token function">serializeStyles</span><span class="token punctuation">(</span><span class="token parameter">args<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> args <span class="token operator">===</span> <span class="token string">&#39;object&#39;</span> <span class="token operator">&amp;&amp;</span> args<span class="token punctuation">.</span>styles <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> args<span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">var</span> styles <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">var</span> strings <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>strings<span class="token punctuation">.</span>raw <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token operator">+</span>   styles <span class="token operator">+=</span> <span class="token function">handleInterpolation</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> strings<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">    styles <span class="token operator">+=</span> strings<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> args<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    styles <span class="token operator">+=</span> <span class="token function">handleInterpolation</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> args<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token function">hashString</span><span class="token punctuation">(</span>styles<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> styles <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token operator">+</span><span class="token keyword">function</span> <span class="token function">handleInterpolation</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span> interpolation</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> interpolation<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">case</span> <span class="token string">&#39;object&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token operator">+</span>     <span class="token keyword">return</span> <span class="token function">createStringFromObject</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> interpolation<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token operator">+</span>   <span class="token keyword">case</span> <span class="token string">&#39;function&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token operator">+</span>     <span class="token keyword">if</span> <span class="token punctuation">(</span>props <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"><span class="token operator">+</span>       <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token function">interpolation</span><span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token operator">+</span>       <span class="token keyword">return</span> <span class="token function">handleInterpolation</span><span class="token punctuation">(</span>props<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token operator">+</span>     <span class="token punctuation">}</span></span>
<span class="line"><span class="token operator">+</span>   <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">createStringFromObject</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">var</span> string <span class="token operator">=</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">var</span> value <span class="token operator">=</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">    string <span class="token operator">+=</span> key <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> value <span class="token operator">+</span> <span class="token string">&quot;;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  <span class="token keyword">return</span> string<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> serializeStyles<span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_7-为组件添加样式" tabindex="-1"><a class="header-anchor" href="#_7-为组件添加样式"><span>7. 为组件添加样式</span></a></h2><h3 id="_7-1-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_7-1-src-app-jsx"><span>7.1 src\\App.jsx</span></a></h3><p>src\\App.jsx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import styled from &#39;./@emotion/styled&#39;</span>
<span class="line">+function Hello({ className }) {</span>
<span class="line">+  return &lt;button className={className}&gt;Hello&lt;/button&gt;</span>
<span class="line">+}</span>
<span class="line">+const RedHello = styled(Hello)\`</span>
<span class="line">+  color:red;</span>
<span class="line">+\`</span>
<span class="line">function App() {</span>
<span class="line">  return (</span>
<span class="line">+   &lt;RedHello&gt;Button&lt;/RedHello&gt;</span>
<span class="line">  )</span>
<span class="line">}</span>
<span class="line">export default App;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8-父组件设置子组件" tabindex="-1"><a class="header-anchor" href="#_8-父组件设置子组件"><span>8. 父组件设置子组件</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">.css-1wvgi8y-Parent{background:green;}</span>
<span class="line">.css-10c6c3i-Child{color:red;}</span>
<span class="line">.css-1wvgi8y-Parent .eesff8e1{color:blue;}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;css-1wvgi8y-Parent eesff8e0&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;css-10c6c3i-Child eesff8e1&quot;</span><span class="token operator">&gt;</span>App<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line"><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-1-vite-config-js" tabindex="-1"><a class="header-anchor" href="#_8-1-vite-config-js"><span>8.1 vite.config.js</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">npm install @emotion/babel-plugin --save</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>vite.config.js</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">import { defineConfig } from &#39;vite&#39;</span>
<span class="line">import react from &#39;@vitejs/plugin-react&#39;</span>
<span class="line">export default defineConfig({</span>
<span class="line">  plugins: [react(</span>
<span class="line">    {</span>
<span class="line">      jsxRuntime: &#39;classic&#39;,</span>
<span class="line">      babel: {</span>
<span class="line">+       plugins: [&#39;@emotion/babel-plugin&#39;]</span>
<span class="line">      }</span>
<span class="line">    }</span>
<span class="line">  )]</span>
<span class="line">})</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8-2-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_8-2-src-app-jsx"><span>8.2 src\\App.jsx</span></a></h3><p>src\\App.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">&#39;@emotion/styled&#39;</span></span>
<span class="line"><span class="token keyword">const</span> Child <span class="token operator">=</span> styled<span class="token punctuation">.</span><span class="token function">div</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;red&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> Parent <span class="token operator">=</span> styled<span class="token punctuation">.</span><span class="token function">div</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">&#39;green&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">[</span>Child<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token string">&#39;blue&#39;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span>Parent<span class="token operator">&gt;</span></span>
<span class="line">        <span class="token operator">&lt;</span>Child<span class="token operator">&gt;</span>Child<span class="token operator">&lt;</span><span class="token operator">/</span>Child<span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span><span class="token operator">/</span>Parent<span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span>Child<span class="token operator">&gt;</span>Child<span class="token operator">&lt;</span><span class="token operator">/</span>Child<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> App</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-嵌套选择器" tabindex="-1"><a class="header-anchor" href="#_9-嵌套选择器"><span>9. 嵌套选择器</span></a></h2><h3 id="_9-1-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_9-1-src-app-jsx"><span>9.1 src\\App.jsx</span></a></h3><p>src\\App.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">&#39;@emotion/styled&#39;</span></span>
<span class="line"><span class="token keyword">const</span> Container <span class="token operator">=</span> styled<span class="token punctuation">.</span>div<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line">  width:200px;</span>
<span class="line">  height:200px;</span>
<span class="line">  background:lightgray;</span>
<span class="line">  &amp;:hover{</span>
<span class="line">    background:pink;</span>
<span class="line">  }</span>
<span class="line">  &amp; &gt; p {</span>
<span class="line">    color:green;</span>
<span class="line">  }</span>
<span class="line"></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span>Container<span class="token operator">&gt;</span></span>
<span class="line">      Container</span>
<span class="line">      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>span<span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>Container<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> App</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_10-as属性" tabindex="-1"><a class="header-anchor" href="#_10-as属性"><span>10. as属性</span></a></h2><ul><li>要使用组件内的样式，但要更改呈现的元素，可以使用as属性</li></ul><h3 id="_10-1-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_10-1-src-app-jsx"><span>10.1 src\\App.jsx</span></a></h3><p>src\\App.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">&#39;@emotion/styled&#39;</span></span>
<span class="line"><span class="token keyword">const</span> Button <span class="token operator">=</span> styled<span class="token punctuation">.</span>button<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line"> color:red</span>
<span class="line"></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span>Button <span class="token keyword">as</span><span class="token operator">=</span><span class="token string">&quot;a&quot;</span><span class="token operator">&gt;</span></span>
<span class="line">      Button</span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>Button<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> App</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_11-组合样式" tabindex="-1"><a class="header-anchor" href="#_11-组合样式"><span>11.组合样式</span></a></h2><ul><li>要使用组件内的样式，但要更改呈现的元素，可以使用as属性</li></ul><h3 id="_11-1-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_11-1-src-app-jsx"><span>11.1 src\\App.jsx</span></a></h3><p>src\\App.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token doc-comment comment">/** <span class="token keyword">@jsx</span> jsx */</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> jsx<span class="token punctuation">,</span> css <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@emotion/react&#39;</span></span>
<span class="line"><span class="token keyword">const</span> base <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line">  color:white;</span>
<span class="line"></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line"><span class="token keyword">const</span> warning <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line">  background:orange;</span>
<span class="line"></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span>button css<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>base<span class="token punctuation">,</span> warning<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Button<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> App</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_12-全局样式" tabindex="-1"><a class="header-anchor" href="#_12-全局样式"><span>12.全局样式</span></a></h2><h3 id="_12-1-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_12-1-src-app-jsx"><span>12.1 src\\App.jsx</span></a></h3><p>src\\App.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token doc-comment comment">/** <span class="token keyword">@jsx</span> jsx */</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> jsx<span class="token punctuation">,</span> css<span class="token punctuation">,</span> Global <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@emotion/react&#39;</span></span>
<span class="line"><span class="token keyword">const</span> reset <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line">  body{</span>
<span class="line">    margin:0;</span>
<span class="line">  }</span>
<span class="line">  a{</span>
<span class="line">    color:red;</span>
<span class="line">  }</span>
<span class="line"></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span>Global styles<span class="token operator">=</span><span class="token punctuation">{</span>reset<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">      <span class="token operator">&lt;</span>a<span class="token operator">&gt;</span>我是a标记<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span></span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> App</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_13-关键帧动画" tabindex="-1"><a class="header-anchor" href="#_13-关键帧动画"><span>13.关键帧动画</span></a></h2><h3 id="_13-1-src-app-jsx" tabindex="-1"><a class="header-anchor" href="#_13-1-src-app-jsx"><span>13.1 src\\App.jsx</span></a></h3><p>src\\App.jsx</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token doc-comment comment">/** <span class="token keyword">@jsx</span> jsx */</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> jsx<span class="token punctuation">,</span> css<span class="token punctuation">,</span> keyframes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@emotion/react&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> bounce <span class="token operator">=</span> keyframes<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line">  from {</span>
<span class="line">    transform: translateX(0);</span>
<span class="line">  }</span>
<span class="line">  to {</span>
<span class="line">    transform: translateX(100px);</span>
<span class="line">  }</span>
<span class="line"></span><span class="token template-punctuation string">\`</span></span></span>
<span class="line"><span class="token keyword">const</span> base <span class="token operator">=</span> css<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string"></span>
<span class="line">  width:100px;</span>
<span class="line">  height:100px;</span>
<span class="line">  background: green;</span>
<span class="line">  position: absolute;</span>
<span class="line">  animation: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>bounce<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 1s ease infinite alternate;</span>
<span class="line"></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">(</span></span>
<span class="line">    <span class="token operator">&lt;</span>div css<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>base<span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span></span>
<span class="line">      文本</span>
<span class="line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> App</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_14-模板字符串" tabindex="-1"><a class="header-anchor" href="#_14-模板字符串"><span>14.模板字符串</span></a></h2><ul><li>模板字符串可以紧跟在一个函数名后面，该函数将被调用来处理这个模板字符串。这被称为<code>标签模板</code>功能</li><li>标签模板其实不是模板，而是函数调用的一种特殊形式</li><li>标签指的就是函数，紧跟在后面的模板字符串就是它的参数</li><li>如果模板字符里面有变量，就不是简单的调用了，而是会将模板字符串先处理成多个参数，再调用函数</li><li>模板处理函数的第一个参数（模板字符串数组），还有一个<code>raw</code>属性,保存的是转义后的原字符串</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">function</span> <span class="token function">tag</span><span class="token punctuation">(</span><span class="token parameter">stringArr<span class="token punctuation">,</span> <span class="token operator">...</span>values</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringArr<span class="token punctuation">.</span>raw<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">let</span> output <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">let</span> index<span class="token punctuation">;</span></span>
<span class="line">  <span class="token keyword">for</span> <span class="token punctuation">(</span>index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> values<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    output <span class="token operator">+=</span> stringArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">+</span> values<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  output <span class="token operator">+=</span> stringArr<span class="token punctuation">[</span>index<span class="token punctuation">]</span></span>
<span class="line">  <span class="token keyword">return</span> output<span class="token punctuation">;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token keyword">let</span> v1 <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> v2 <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">let</span> result <span class="token operator">=</span> tag<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">a</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>v1<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">b</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>v2<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">c</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,139)])])}const o=n(t,[["render",l]]),r=JSON.parse('{"path":"/strong/154.emotion.html","title":"","lang":"en-US","frontmatter":{},"git":{"updatedTime":1681290319000,"contributors":[{"name":"yutao","username":"yutao","email":"642231346@qq.com","commits":1,"url":"https://github.com/yutao"}],"changelog":[{"hash":"f5ab8c9d34991ec274f7f652439afe5b2afb6147","time":1681290319000,"email":"642231346@qq.com","author":"yutao","message":"modify"}]},"filePathRelative":"strong/154.emotion.md"}');export{o as comp,r as data};
