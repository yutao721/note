import{_ as a,c as n,a as e,o as l}from"./app-CD1YpnS1.js";const t={};function i(p,s){return l(),n("div",null,[...s[0]||(s[0]=[e(`<h2 id="_1-文件权限" tabindex="-1"><a class="header-anchor" href="#_1-文件权限"><span>1. 文件权限</span></a></h2><h3 id="_1-1-文件基本权限" tabindex="-1"><a class="header-anchor" href="#_1-1-文件基本权限"><span>1.1 文件基本权限</span></a></h3><p><code>-rw-r--r--</code></p><ul><li>文件类型 <ul><li><code>-</code> 文件</li><li><code>d</code> 目录</li><li><code>l</code> 软链接文件</li></ul></li><li>所有者 所属组 其它人</li><li>r读 w写 x执行</li></ul><h3 id="_1-2-基本权限的修改" tabindex="-1"><a class="header-anchor" href="#_1-2-基本权限的修改"><span>1.2 基本权限的修改</span></a></h3><p>chmod [选项] 模式 文件名</p><ul><li>选项 <ul><li><code>-R</code> 递归</li></ul></li><li>模式 <ul><li>[ugoa][+-=][rwx]</li></ul></li><li>权限数字 <ul><li>r 4</li><li>w 2</li><li>x 1</li></ul></li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">chmod <span class="token number">000</span> <span class="token number">1</span><span class="token punctuation">.</span>txt</span>
<span class="line">chmod u<span class="token operator">+</span>w <span class="token number">1</span><span class="token punctuation">.</span>txt</span>
<span class="line">chmod g<span class="token operator">+</span>x <span class="token number">1</span><span class="token punctuation">.</span>txt</span>
<span class="line">chmod o<span class="token operator">+</span>r <span class="token number">1</span><span class="token punctuation">.</span>txt</span>
<span class="line"></span>
<span class="line">chmod g<span class="token operator">+</span>x<span class="token punctuation">,</span>o<span class="token operator">+</span>x <span class="token number">1</span><span class="token punctuation">.</span>txt</span>
<span class="line"></span>
<span class="line">chmod u<span class="token operator">-</span>w <span class="token number">1</span><span class="token punctuation">.</span>txt</span>
<span class="line"></span>
<span class="line">chmod u<span class="token operator">=</span>rwx <span class="token number">1</span><span class="token punctuation">.</span>txt</span>
<span class="line"></span>
<span class="line">chmod <span class="token number">777</span> <span class="token number">1</span><span class="token punctuation">.</span>txt</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3-权限的作用" tabindex="-1"><a class="header-anchor" href="#_1-3-权限的作用"><span>1.3 权限的作用</span></a></h3><ul><li>对文件来说最高权限是<code>x</code></li><li>对目录来讲最高权限是<code>w</code>,只有读权限没有意义，对目录有了写权限，里面可以做任何事情</li></ul><h4 id="_1-3-1-文件权限" tabindex="-1"><a class="header-anchor" href="#_1-3-1-文件权限"><span>1.3.1 文件权限</span></a></h4><table><thead><tr><th style="text-align:left;">权限</th><th style="text-align:left;">含义</th><th style="text-align:left;">示例</th></tr></thead><tbody><tr><td style="text-align:left;">r</td><td style="text-align:left;">读取文件内容</td><td style="text-align:left;">cat more head tail</td></tr><tr><td style="text-align:left;">w</td><td style="text-align:left;">编辑、新增、修改文件内容,不能删除文件,除非对目录有写权限</td><td style="text-align:left;">vi echo</td></tr><tr><td style="text-align:left;">x</td><td style="text-align:left;">可执行</td><td style="text-align:left;"></td></tr></tbody></table><h4 id="_1-3-2-目录权限" tabindex="-1"><a class="header-anchor" href="#_1-3-2-目录权限"><span>1.3.2 目录权限</span></a></h4><table><thead><tr><th style="text-align:left;">权限</th><th style="text-align:left;">含义</th><th style="text-align:left;">示例</th></tr></thead><tbody><tr><td style="text-align:left;">r</td><td style="text-align:left;">可以查看目录下的文件名</td><td style="text-align:left;">ls</td></tr><tr><td style="text-align:left;">w</td><td style="text-align:left;">具有修改目录结构的权限。如新建、删除和重命名此目录下的文件和目录</td><td style="text-align:left;">touch rm mv cp</td></tr><tr><td style="text-align:left;">x</td><td style="text-align:left;">进入目录</td><td style="text-align:left;">cd</td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">useradd zf1</span>
<span class="line">passwd zf1</span>
<span class="line"></span>
<span class="line">cd <span class="token operator">/</span>home<span class="token operator">/</span>zf1</span>
<span class="line">mkdir folder</span>
<span class="line">touch folder<span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">.</span>txt 默认<span class="token number">755</span></span>
<span class="line">chmod <span class="token number">750</span> folder </span>
<span class="line">chmod <span class="token number">640</span> folder<span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">.</span>txt</span>
<span class="line">chmod <span class="token number">754</span> folder </span>
<span class="line">chmod <span class="token number">755</span> folder  </span>
<span class="line">chmod <span class="token number">644</span> folder<span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">.</span>txt</span>
<span class="line">chmod <span class="token number">646</span> folder<span class="token operator">/</span><span class="token number">1</span><span class="token punctuation">.</span>txt</span>
<span class="line">chmod <span class="token number">757</span> folder</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_1-1-3-其它权限命令" tabindex="-1"><a class="header-anchor" href="#_1-1-3-其它权限命令"><span>1.1.3 其它权限命令</span></a></h4><h5 id="_1-1-3-1-chown" tabindex="-1"><a class="header-anchor" href="#_1-1-3-1-chown"><span>1.1.3.1 chown</span></a></h5><ul><li>chown 用户名 文件名</li><li>如果想让一个用户拥有7权限，可以把这个文件的所有者改成这个用户名<div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">chmod <span class="token number">755</span> folder</span>
<span class="line">chown zf1 folder</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h5 id="_1-1-3-2-chgrp" tabindex="-1"><a class="header-anchor" href="#_1-1-3-2-chgrp"><span>1.1.3.2 chgrp</span></a></h5><ul><li>chgrp 组名 文件名</li><li>创建用户名的时候会为它创建一个所属组</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">chgrp zf1 folder</span>
<span class="line">chown root:root folder</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-默认权限" tabindex="-1"><a class="header-anchor" href="#_2-默认权限"><span>2.默认权限</span></a></h2><h3 id="_2-1-umask" tabindex="-1"><a class="header-anchor" href="#_2-1-umask"><span>2.1 umask</span></a></h3><ul><li>查看默认权限</li><li>0022 <ul><li>第一位0 文件特殊权限</li><li>022 文件默认权限</li></ul></li></ul><h3 id="_2-2-文件权限" tabindex="-1"><a class="header-anchor" href="#_2-2-文件权限"><span>2.2 文件权限</span></a></h3><ul><li>默认权限就是文件一创建后就拥有的权限</li><li>文件默认不能建立可执行文件，必须手工赋予执行权限</li><li>文件默认权限最大为<code>666</code></li><li>默认权限需要换算成字母再相减</li><li>建立文件之后的默认权限，为666减去umask值</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token number">666</span> <span class="token operator">-</span> <span class="token number">022</span> <span class="token operator">=</span>  <span class="token number">744</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-3-目录" tabindex="-1"><a class="header-anchor" href="#_2-3-目录"><span>2.3 目录</span></a></h3><ul><li>目录默认权限最大为777</li><li>建立目录之后的默认权限，为777减去umask值</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token number">777</span> <span class="token operator">-</span> <span class="token number">022</span> <span class="token operator">=</span>  <span class="token number">755</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-4-修改umask值" tabindex="-1"><a class="header-anchor" href="#_2-4-修改umask值"><span>2.4 修改umask值</span></a></h3><ul><li>临时修改</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">umask <span class="token number">0002</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>永久修改<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">vi /etc/profile</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><h2 id="_3-sudo权限" tabindex="-1"><a class="header-anchor" href="#_3-sudo权限"><span>3. sudo权限</span></a></h2><ul><li>root把本来只有超级管理员可以使用的命令赋予普通用户来使用</li><li>sudo操作的对象是系统命令</li></ul><h3 id="_4-1-visudo" tabindex="-1"><a class="header-anchor" href="#_4-1-visudo"><span>4.1 visudo</span></a></h3><ul><li>通过<code>visudo</code>可以由超级用户赋权</li><li>实际修改的是<code>/etc/sudoers</code>文件</li><li>命令必须写绝对路径</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">root    <span class="token constant">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token constant">ALL</span><span class="token punctuation">)</span> <span class="token constant">ALL</span></span>
<span class="line">用户名 被管理主机地址<span class="token operator">=</span><span class="token punctuation">(</span>可使用的身份<span class="token punctuation">)</span> <span class="token function">授权命令</span><span class="token punctuation">(</span>绝对路径<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">stu2 <span class="token constant">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span> <span class="token constant">ALL</span> <span class="token comment">//新增加用户行</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,39)])])}const r=a(t,[["render",i]]),d=JSON.parse('{"path":"/strong/125.4.linux-auth.html","title":"","lang":"en-US","frontmatter":{},"git":{"updatedTime":1681290319000,"contributors":[{"name":"yutao","username":"yutao","email":"642231346@qq.com","commits":1,"url":"https://github.com/yutao"}],"changelog":[{"hash":"f5ab8c9d34991ec274f7f652439afe5b2afb6147","time":1681290319000,"email":"642231346@qq.com","author":"yutao","message":"modify"}]},"filePathRelative":"strong/125.4.linux-auth.md"}');export{r as comp,d as data};
