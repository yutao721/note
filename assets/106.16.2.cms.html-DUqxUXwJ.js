import{_ as n,c as a,a as t,o as e}from"./app-CD1YpnS1.js";const p={};function o(l,s){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h2 id="_1-什么是mock" tabindex="-1"><a class="header-anchor" href="#_1-什么是mock"><span>1. 什么是Mock</span></a></h2><ul><li>什么是Mock?? Mock其实就是真实数据存在之前，即调试期间的代替品</li></ul><h2 id="_2-如何mock数据" tabindex="-1"><a class="header-anchor" href="#_2-如何mock数据"><span>2. 如何Mock数据？</span></a></h2><ul><li>最low的方式将 Mock 数据写在代码里、json文件里；</li><li>利用 Charles 、Fiddler等代理工具，将 URL 映射到本地文件；</li><li>本地起 Mock Server，即mockjs，有点麻烦每次修改了后还要重启服务</li></ul><h2 id="_3-mock语法" tabindex="-1"><a class="header-anchor" href="#_3-mock语法"><span>3. Mock语法</span></a></h2><ul><li><a href="http://mockjs.com/examples.html" target="_blank" rel="noopener noreferrer">mockjs</a></li></ul><table><thead><tr><th style="text-align:left;">占位符</th><th style="text-align:left;">含义</th></tr></thead><tbody><tr><td style="text-align:left;">@ip</td><td style="text-align:left;">随机输出一个IP</td></tr><tr><td style="text-align:left;">@id</td><td style="text-align:left;">随机输出长度18的字符，不接受参数</td></tr><tr><td style="text-align:left;">array/1-10</td><td style="text-align:left;">随机输出1-10长度的数组，也可以直接是固定长度</td></tr><tr><td style="text-align:left;">object/2</td><td style="text-align:left;">输出一个两个key值的对象</td></tr><tr><td style="text-align:left;">@image()</td><td style="text-align:left;">返回一个占位图url，支持size, background, foreground, format, text</td></tr><tr><td style="text-align:left;">@cname</td><td style="text-align:left;">生成一个中文名</td></tr><tr><td style="text-align:left;">@datetime</td><td style="text-align:left;">生成一个随机的时间</td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">let</span> Mock <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mockjs&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token keyword">let</span> result <span class="token operator">=</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;请求成功&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;data|20&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token string-property property">&quot;id&quot;</span><span class="token operator">:</span><span class="token string">&quot;@id&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-property property">&quot;ip&quot;</span><span class="token operator">:</span><span class="token string">&quot;@ip&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@cname&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-property property">&quot;userId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@id&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-property property">&quot;stars|2&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&#39;★&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-property property">&quot;colors|2&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token literal-property property">red</span><span class="token operator">:</span><span class="token string">&#39;red&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">yellow</span><span class="token operator">:</span><span class="token string">&#39;yellow&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">blue</span><span class="token operator">:</span><span class="token string">&#39;blue&#39;</span><span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-property property">&quot;avatar&quot;</span><span class="token operator">:</span><span class="token string">&quot;@image()&quot;</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token string-property property">&quot;createAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@datetime&quot;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-easy-mock" tabindex="-1"><a class="header-anchor" href="#_4-easy-mock"><span>4. easy-mock</span></a></h2><ul><li><a href="https://easy-mock.com/" target="_blank" rel="noopener noreferrer">easy-mock</a></li><li>Easy Mock就是一个在线创建mock的服务平台，帮你省去你 配置、安装、起服务、维护、多人协作Mock数据不互通等一系列繁琐的操作</li></ul><h2 id="_5-基本用法" tabindex="-1"><a class="header-anchor" href="#_5-基本用法"><span>5. 基本用法</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token string-property property">&quot;data|5&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token string-property property">&quot;id|1-1000&quot;</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;title&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@csentence&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;url&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@url&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;image&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@image(300x200)&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string-property property">&quot;createAt&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@datetime&quot;</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token string-property property">&quot;code&quot;</span><span class="token operator">:</span> <span class="token number">0</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5-高阶用法" tabindex="-1"><a class="header-anchor" href="#_5-高阶用法"><span>5.高阶用法</span></a></h2><table><thead><tr><th style="text-align:left;">对象</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">Mock</td><td style="text-align:left;">Mock 对象</td></tr><tr><td style="text-align:left;">_req.url</td><td style="text-align:left;">获得请求 url 地址</td></tr><tr><td style="text-align:left;">_req.method</td><td style="text-align:left;">获取请求方法</td></tr><tr><td style="text-align:left;">_req.params</td><td style="text-align:left;">获取 url 参数对象</td></tr><tr><td style="text-align:left;">_req.querystring</td><td style="text-align:left;">获取查询参数字符串(url中?后面的部分)，不包含 ?</td></tr><tr><td style="text-align:left;">_req.query</td><td style="text-align:left;">将查询参数字符串进行解析并以对象的形式返回，如果没有查询参数字字符串则返回一个空对象</td></tr><tr><td style="text-align:left;">_req.body</td><td style="text-align:left;">当 post 请求以 x-www-form-urlencoded 方式提交时，我们可以拿到请求的参数对象</td></tr><tr><td style="text-align:left;">…</td><td style="text-align:left;">_req.cookies、ip、host等等 <a href="https://easy-mock.com/docs" target="_blank" rel="noopener noreferrer">docs</a></td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token constant">GET</span> <span class="token operator">/</span>mock<span class="token operator">/</span>5cfa0f3b9a819c502224e47f<span class="token operator">/</span>news<span class="token operator">?</span><span class="token operator">%</span>3Fcode<span class="token operator">=</span><span class="token number">0</span><span class="token operator">&amp;</span>name<span class="token operator">=</span>zhufeng <span class="token constant">HTTP</span><span class="token operator">/</span><span class="token number">1.1</span></span>
<span class="line"><span class="token literal-property property">Accept</span><span class="token operator">:</span> application<span class="token operator">/</span>json<span class="token punctuation">,</span> <span class="token operator">*</span><span class="token comment">/*</span>
<span class="line">Content-Type: application/json</span>
<span class="line"></span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">//简单模拟登录，根据用户传入的参数，返回不同逻辑数据</span></span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">success</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token function-variable function">name</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span></span>
<span class="line">      _req</span>
<span class="line">    <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">return</span> _req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>name<span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function-variable function">code</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span></span>
<span class="line">      _req</span>
<span class="line">    <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">return</span> _req<span class="token punctuation">.</span>query<span class="token punctuation">.</span>code <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span></span>
<span class="line">      _req<span class="token punctuation">,</span></span>
<span class="line">      Mock</span>
<span class="line">    <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token literal-property property">token</span><span class="token operator">:</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&quot;@guid()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">userId</span><span class="token operator">:</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&quot;@id(5)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">cname</span><span class="token operator">:</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&quot;@cname()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token literal-property property">name</span><span class="token operator">:</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&quot;@name()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">         <span class="token literal-property property">avatar</span><span class="token operator">:</span> Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span>&quot;@<span class="token function">image</span><span class="token punctuation">(</span>200x100<span class="token punctuation">,</span> </span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-在线调试" tabindex="-1"><a class="header-anchor" href="#_6-在线调试"><span>6.在线调试</span></a></h2><ul><li>[在线调试](https://easy-mock.com/mock/5a0aad39eace86040209063d/pjhApi_1510649145466/api/common/logins</li></ul>`,18)])])}const i=n(p,[["render",o]]),r=JSON.parse('{"path":"/strong/106.16.2.cms.html","title":"","lang":"en-US","frontmatter":{},"git":{"updatedTime":1681290319000,"contributors":[{"name":"yutao","username":"yutao","email":"642231346@qq.com","commits":1,"url":"https://github.com/yutao"}],"changelog":[{"hash":"f5ab8c9d34991ec274f7f652439afe5b2afb6147","time":1681290319000,"email":"642231346@qq.com","author":"yutao","message":"modify"}]},"filePathRelative":"strong/106.16.2.cms.md"}');export{i as comp,r as data};
