import{_ as s,c as a,a as e,o as p}from"./app-CD1YpnS1.js";const t={};function c(i,n){return p(),a("div",null,[...n[0]||(n[0]=[e(`<h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><p><strong>path</strong>模块是Node的核心模块之一，特别是在前端项目构建，打包等操作中，是使用比较频繁的API。</p><h2 id="node-中的路径分类" tabindex="-1"><a class="header-anchor" href="#node-中的路径分类"><span>node 中的路径分类</span></a></h2><p>node 中的路径大致分 5 类，<code>__dirname</code>,<code>__filename</code>,<code>process.cwd()</code>,<code>./</code>,<code>../</code>,其中<code>__dirname</code>,<code>__filename</code>,<code>process.cwd()</code>绝对路径</p><ul><li><code>__dirname</code>： 获得当前执行文件所在目录的完整目录名</li><li><code>__filename</code>： 获得当前执行文件的带有完整绝对路径的文件名</li><li><code>process.cwd()</code>：获得当前执行node命令时候的文件夹目录名</li><li><code>./</code>： 不使用require时候，<code>./</code>与<code>process.cwd()</code>一样，使用<code>require</code>时候，与<code>__dirname</code>一样</li></ul><blockquote><p>那么关于 <code>./</code>的结论是：</p><p>在 <code>require()</code>中使用是跟<code>__dirname</code> 的效果相同，不会因为启动脚本的目录不一样而改变，在其他情况下跟 <code>process.cwd()</code> 效果相同，是相对于启动脚本所在目录的路径。</p><p>只有在 require() 时才使用相对路径(./, ../) 的写法，其他地方一律使用绝对路径，如下：</p></blockquote><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token comment">// 当前目录下</span></span>
<span class="line">path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>__filename<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#39;/path.js&#39;</span></span>
<span class="line"><span class="token comment">// 相邻目录下</span></span>
<span class="line">path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../regx/regx.js&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>前面讲解了路径的相关比较，接下来单独聊聊 path 这个模块，这个模块在很多地方比较常用，所以，对于我们来说，掌握他，对我们以后的发展更有利，不用每次看 webpack 的配置文件还要去查询一下这个 api 是干什么用的，很影响我们的效率。</p><h2 id="path-dirname" tabindex="-1"><a class="header-anchor" href="#path-dirname"><span>path.dirname</span></a></h2><p><code>path.dirname(path)</code> 方法返回 <code>path</code> 的目录名，类似于 Unix <code>dirname</code> 命令,尾随的目录分隔符被忽略。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span><span class="token string">&#39;/foo/bar/baz/asdf/quux&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 返回: &#39;/foo/bar/baz/asdf&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="path-extname" tabindex="-1"><a class="header-anchor" href="#path-extname"><span>path.extname</span></a></h2><p><code>path.extname(path)</code> 方法返回 <code>path</code> 的扩展名，即 <code>path</code> 的最后一部分中从最后一次出现的 <code>.</code>（句点）字符到字符串的结尾。 如果 <code>path</code> 的最后一部分中没有 <code>.</code>，或者除了 <code>path</code> 的基本名称的第一个字符之外没有 <code>.</code> 个字符，则返回空字符串。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">&#39;index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 返回: &#39;.html&#39;</span></span>
<span class="line"></span>
<span class="line">path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">&#39;index.coffee.md&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 返回: &#39;.md&#39;</span></span>
<span class="line"></span>
<span class="line">path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">&#39;index.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 返回: &#39;.&#39;</span></span>
<span class="line"></span>
<span class="line">path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">&#39;index&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 返回: &#39;&#39;</span></span>
<span class="line"></span>
<span class="line">path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">&#39;.index&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 返回: &#39;&#39;</span></span>
<span class="line"></span>
<span class="line">path<span class="token punctuation">.</span><span class="token function">extname</span><span class="token punctuation">(</span><span class="token string">&#39;.index.md&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 返回: &#39;.md&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="path-basename" tabindex="-1"><a class="header-anchor" href="#path-basename"><span>path.basename</span></a></h2><p>path.basename(path[, ext])方法返回 <code>path</code> 的最后一部分,接收两个参数，第一个是<code>path</code>，第二个是<code>ext</code>(可选参数)，当输入第二个参数的时候，打印结果不出现后缀名。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">&#39;/foo/bar/baz/asdf/quux.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 返回: &#39;quux.html&#39;</span></span>
<span class="line"></span>
<span class="line">path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">&#39;/foo/bar/baz/asdf/quux.html&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 返回: &#39;quux&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>尽管 Windows 通常以不区分大小写的方式处理文件名（包括文件扩展名），但此函数不会。 例如，<code>C:\\\\foo.html</code> 和 <code>C:\\\\foo.HTML</code> 指的是同一个文件，但 <code>basename</code> 将扩展名视为区分大小写的字符串：</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">path<span class="token punctuation">.</span>win32<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">&#39;C:\\\\foo.html&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 返回: &#39;foo&#39;</span></span>
<span class="line"></span>
<span class="line">path<span class="token punctuation">.</span>win32<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token string">&#39;C:\\\\foo.HTML&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token comment">// 返回: &#39;foo.HTML&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="path-normalize" tabindex="-1"><a class="header-anchor" href="#path-normalize"><span>path.normalize</span></a></h2><p>规范化路径，把不规范的路径规范化</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">path<span class="token punctuation">.</span><span class="token function">normalize</span><span class="token punctuation">(</span><span class="token string">&#39;/path///example/index.js&#39;</span><span class="token punctuation">)</span> <span class="token comment">//  /path/example/index.js</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="path-isabsolute" tabindex="-1"><a class="header-anchor" href="#path-isabsolute"><span>path.isAbsolute</span></a></h2><p><code>path.isAbsolute()</code> 方法确定 <code>path</code> 是否为绝对路径。</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">path<span class="token punctuation">.</span><span class="token function">isAbsolute</span><span class="token punctuation">(</span><span class="token string">&#39;/foo/bar&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span></span>
<span class="line">path<span class="token punctuation">.</span><span class="token function">isAbsolute</span><span class="token punctuation">(</span><span class="token string">&#39;/baz/..&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// true</span></span>
<span class="line">path<span class="token punctuation">.</span><span class="token function">isAbsolute</span><span class="token punctuation">(</span><span class="token string">&#39;qux/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">// false</span></span>
<span class="line">path<span class="token punctuation">.</span><span class="token function">isAbsolute</span><span class="token punctuation">(</span><span class="token string">&#39;.&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// false</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="path-parse" tabindex="-1"><a class="header-anchor" href="#path-parse"><span>path.parse</span></a></h2><p>path.parse(path)返回的是一个对象.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">path<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">&#39;/path/example/index.js&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">/*</span>
<span class="line"> { root: &#39;/&#39;,</span>
<span class="line">  dir: &#39;/path/example&#39;,</span>
<span class="line">  base: &#39;index.js&#39;,</span>
<span class="line">  ext: &#39;.js&#39;,</span>
<span class="line">  name: &#39;index&#39; }</span>
<span class="line">*/</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>root：代表根目录</li><li>dir：代表文件所在的文件夹</li><li>base：代表整一个文件</li><li>name：代表文件名</li><li>ext: 代表文件的后缀名</li></ul><h2 id="path-format" tabindex="-1"><a class="header-anchor" href="#path-format"><span>path.format</span></a></h2><p><code>path.format()</code> 方法从对象返回路径字符串。 这与 <code>path.parse()</code> 相反</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">path<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">dir</span><span class="token operator">:</span> <span class="token string">&#39;/path/example&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">base</span><span class="token operator">:</span> <span class="token string">&#39;index.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">ext</span><span class="token operator">:</span> <span class="token string">&#39;.js&#39;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;index&#39;</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// /path/example/index.js</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="path-join" tabindex="-1"><a class="header-anchor" href="#path-join"><span>path.join</span></a></h2><p>path.join([...paths])，传入的参数是字符串的路径片段，可以是一个，也可以是多个。返回的是一个拼接好的路径，但是根据平台的不同，他会对路径进行不同的规范化，举个例子，<code>Unix</code>系统是<code>/</code>，<code>Windows</code>系统是<code>\\</code>，那么你在两个系统下看到的返回结果就不一样。如果返回的路径字符串长度为零，那么他会返回一个<code>.</code>，代表当前的文件夹。如果传入的参数中有不是字符串的，那就直接会报错</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;/path&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;example&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./index.js&#39;</span><span class="token punctuation">)</span> <span class="token comment">// /path/example/index.js</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="path-resolve" tabindex="-1"><a class="header-anchor" href="#path-resolve"><span>path.resolve</span></a></h2><p>path.resolve([...paths])</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span></span>
<span class="line">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;/foo/bar&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/bar/faa&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;..&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;a/../c&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token comment">// /bar/c</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>path.resolve 就相当于是 shell 下面的<code>cd</code>操作，从左到右运行一遍<code>cd path</code>命令，最终获取的绝对路径/文件名，这个接口所返回的结果了。但是<code>resolve</code>操作和<code>cd</code>操作还是有区别的，<code>resolve</code>的路径可以没有，而且最后进入的可以是文件。具体<code>cd</code>步骤如下</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">cd <span class="token operator">/</span>foo<span class="token operator">/</span>bar<span class="token operator">/</span>    <span class="token comment">//这是第一步, 现在的位置是/foo/bar/</span></span>
<span class="line">cd <span class="token operator">/</span>bar<span class="token operator">/</span>faa     <span class="token comment">//这是第二步，这里和第一步有区别，他是从/进入的，也就时候根目录，现在的位置是/bar/faa</span></span>
<span class="line">cd <span class="token punctuation">.</span><span class="token punctuation">.</span>       <span class="token comment">//第三步，从faa退出来，现在的位置是 /bar</span></span>
<span class="line">cd a<span class="token operator">/</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token operator">/</span>c   <span class="token comment">//第四步，进入a，然后在推出，在进入c，最后位置是/bar/c</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>如果没有传入 <code>path</code> 片段，则 <code>path.resolve()</code> 将返回当前工作目录的绝对路径</strong></p><h2 id="path-relative" tabindex="-1"><a class="header-anchor" href="#path-relative"><span>path.relative</span></a></h2><p>path.relative(from, to) 获取 from 到 to 的相对路径。,如果 from、to 指向同个路径，那么，返回空字符串,如果 from、to 中任一者为空，那么，返回当前工作路径.</p><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">path<span class="token punctuation">.</span><span class="token function">relative</span><span class="token punctuation">(</span><span class="token string">&#39;/path/example/index.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/path&#39;</span><span class="token punctuation">)</span> <span class="token comment">// ../..</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>关于路径的知识就说到这里，基础很重要的，既能节约开发时间，又能减少报错。</p>`,46)])])}const o=s(t,[["render",c]]),d=JSON.parse('{"path":"/node/path.html","title":"","lang":"en-US","frontmatter":{},"git":{"updatedTime":1624005480000,"contributors":[{"name":"yutao","username":"yutao","email":"642231346@qq.com","commits":1,"url":"https://github.com/yutao"}],"changelog":[{"hash":"15d94390f9136aa6a90b6e6ef7318aa156d38861","time":1624005480000,"email":"642231346@qq.com","author":"yutao","message":"modfiy"}]},"filePathRelative":"node/path.md"}');export{o as comp,d as data};
