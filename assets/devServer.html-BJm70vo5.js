import{_ as a,c as s,a as n,o as r}from"./app-CD1YpnS1.js";const i={};function p(t,e){return r(),s("div",null,[...e[0]||(e[0]=[n(`<h2 id="_1-一个完整的webpack配置代理代码" tabindex="-1"><a class="header-anchor" href="#_1-一个完整的webpack配置代理代码"><span>1. 一个完整的webpack配置代理代码</span></a></h2><p>设置代理的前提条件：<br> 1、需要使用本地开发插件：webpack-dev-server。<br> 2、webpack-dev-server使用的是http-proxy-middleware来实现跨域代理的。<br> 3、webpack版本： 3.0、4.0亲测有效</p><p>一个webpack配置信息：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">module.exports = {</span>
<span class="line">  //...</span>
<span class="line">  devServer: {</span>
<span class="line">    proxy: {</span>
<span class="line">      &#39;/api&#39;: {</span>
<span class="line">        target: &#39;http://www.baidu.com/&#39;,</span>
<span class="line">        pathRewrite: {&#39;^/api&#39; : &#39;&#39;},</span>
<span class="line">        changeOrigin: true,     // target是域名的话，需要这个参数，</span>
<span class="line">        secure: false,          // 设置支持https协议的代理</span>
<span class="line">      },</span>
<span class="line">      &#39;/api2&#39;: {</span>
<span class="line">          .....</span>
<span class="line">      }</span>
<span class="line">    }</span>
<span class="line">  }</span>
<span class="line">};</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-配置中主要的参数说明" tabindex="-1"><a class="header-anchor" href="#_2-配置中主要的参数说明"><span>2. 配置中主要的参数说明</span></a></h2><h3 id="_2-1-api" tabindex="-1"><a class="header-anchor" href="#_2-1-api"><span>2.1 &#39;/api&#39;</span></a></h3><p>捕获API的标志，如果API中有这个字符串，那么就开始匹配代理， 比如API请求/api/users, 会被代理到请求 http://www.baidu.com/api/users 。</p><h3 id="_2-2-target" tabindex="-1"><a class="header-anchor" href="#_2-2-target"><span>2.2 target</span></a></h3><p>代理的API地址，就是需要跨域的API地址。 地址可以是域名,如：http://www.baidu.com 也可以是IP地址：http://127.0.0.1:3000 如果是域名需要额外添加一个参数changeOrigin: true，否则会代理失败。</p><h3 id="_2-3-pathrewrite" tabindex="-1"><a class="header-anchor" href="#_2-3-pathrewrite"><span>2.3 pathRewrite</span></a></h3><p>路径重写，也就是说会修改最终请求的API路径。 比如访问的API路径：/api/users, 设置pathRewrite: {&#39;^/api&#39; : &#39;&#39;},后， 最终代理访问的路径：http://www.baidu.com/users， 这个参数的目的是给代理命名后，在访问时把命名删除掉。</p><h3 id="_2-4-changeorigin" tabindex="-1"><a class="header-anchor" href="#_2-4-changeorigin"><span>2.4 changeOrigin</span></a></h3><p>这个参数可以让target参数是域名。</p><h3 id="_2-5-secure" tabindex="-1"><a class="header-anchor" href="#_2-5-secure"><span>2.5 secure</span></a></h3><p>secure: false,不检查安全问题。 设置后，可以接受运行在 HTTPS 上，可以使用无效证书的后端服务器</p><h3 id="_2-6-其他参数配置查看http-proxy-middleware文档" tabindex="-1"><a class="header-anchor" href="#_2-6-其他参数配置查看http-proxy-middleware文档"><span>2.6 其他参数配置查看http-proxy-middleware文档</span></a></h3><p>其他的配置参数等信息，<a href="https://github.com/chimurai/http-proxy-middleware" target="_blank" rel="noopener noreferrer">可以查看这里</a></p><h2 id="_3-参考资料" tabindex="-1"><a class="header-anchor" href="#_3-参考资料"><span>3. 参考资料</span></a></h2><p>webpack-dev-server： <a href="https://github.com/webpack/webpack-dev-server" target="_blank" rel="noopener noreferrer">https://github.com/webpack/we...</a><br> http-proxy-middleware： <a href="https://github.com/chimurai/http-proxy-middleware" target="_blank" rel="noopener noreferrer">https://github.com/chimurai/h...</a><br><a href="https://webpack.docschina.org/configuration/dev-server/#devserver-proxy" target="_blank" rel="noopener noreferrer">webpack官网 devServer.proxy配置</a></p>`,19)])])}const l=a(i,[["render",p]]),d=JSON.parse(`{"path":"/web/webpack/devServer.html","title":"","lang":"en-US","frontmatter":{"0":"w","1":"e","2":"b","3":"p","4":"a","5":"c","6":"k","7":"开","8":"发","9":"配","10":"置","11":"A","12":"P","13":"I","14":"代","15":"理","16":"解","17":"决","18":"跨","19":"域","20":"问","21":"题","22":"-","23":"d","24":"e","25":"v","26":"S","27":"e","28":"r","29":"v","30":"e","31":"r"},"git":{"updatedTime":1595926430000,"contributors":[{"name":"yutao","username":"yutao","email":"642231346@qq.com","commits":1,"url":"https://github.com/yutao"}],"changelog":[{"hash":"261d499e389ec0926acbf66d297022d8c96c54a6","time":1595926430000,"email":"642231346@qq.com","author":"yutao","message":"'devServer'"}]},"filePathRelative":"web/webpack/devServer.md"}`);export{l as comp,d as data};
