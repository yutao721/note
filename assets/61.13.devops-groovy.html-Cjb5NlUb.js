import{_ as n,c as a,a as e,o as p}from"./app-CD1YpnS1.js";const l={};function t(i,s){return p(),a("div",null,[...s[0]||(s[0]=[e(`<h2 id="_1-groovy" tabindex="-1"><a class="header-anchor" href="#_1-groovy"><span>1. Groovy</span></a></h2><ul><li>Groovy是用于Java虚拟机的一种敏捷的动态语言，它是一种成熟的面向对象编程语言，既可以用于面向对象编程，又可以用作纯粹的脚本语言。使用该种语言不必编写过多的代码，同时又具有闭包和动态语言中的其它特性</li><li>Groovy完全 兼容Java语法</li></ul><h2 id="_2-groovy语法" tabindex="-1"><a class="header-anchor" href="#_2-groovy语法"><span>2. Groovy语法</span></a></h2><h3 id="_2-1-字符串" tabindex="-1"><a class="header-anchor" href="#_2-1-字符串"><span>2.1 字符串</span></a></h3><ul><li>可选类型定义</li><li>字符串可以用单引号，双引号，和三个单引号的表达方式</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">def name=&#39;zhufeng&#39;</span>
<span class="line">println &#39;hello $name&#39;</span>
<span class="line">println &quot;hello $name&quot;</span>
<span class="line">println &#39;&#39;&#39;hello</span>
<span class="line"> $name&#39;&#39;&#39;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2-定义class" tabindex="-1"><a class="header-anchor" href="#_2-2-定义class"><span>2.2 定义class</span></a></h3><ul><li>编译器给属性自动添加getter/setter方法</li><li>属性可以直接用点号来获取</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">{</span></span>
<span class="line">    String name</span>
<span class="line">    int age</span>
<span class="line">    <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name</span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age</span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">Person p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&#39;zhufeng&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line">println p<span class="token punctuation">.</span>name</span>
<span class="line">p<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span></span>
<span class="line">println p<span class="token punctuation">.</span>age</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3-assert" tabindex="-1"><a class="header-anchor" href="#_2-3-assert"><span>2.3 assert</span></a></h3><ul><li>自带assert语句</li><li>调用方法时括号是可选的</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">def version <span class="token operator">=</span><span class="token number">1</span></span>
<span class="line">assert version <span class="token operator">==</span> <span class="token number">1</span></span>
<span class="line"><span class="token function">println</span><span class="token punctuation">(</span>version<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4-集合api" tabindex="-1"><a class="header-anchor" href="#_2-4-集合api"><span>2.4 集合API</span></a></h3><h4 id="_2-4-1-list" tabindex="-1"><a class="header-anchor" href="#_2-4-1-list"><span>2.4.1 List</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">def range <span class="token operator">=</span> <span class="token number">0.</span><span class="token number">.4</span></span>
<span class="line">println range<span class="token punctuation">.</span>class</span>
<span class="line"><span class="token class-name">assert</span> range <span class="token keyword">instanceof</span> <span class="token class-name">List</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-2-arraylist" tabindex="-1"><a class="header-anchor" href="#_2-4-2-arraylist"><span>2.4.2 ArrayList</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">def coll <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;Groovy&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Java&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Ruby&quot;</span><span class="token punctuation">]</span></span>
<span class="line">assert  coll <span class="token keyword">instanceof</span> <span class="token class-name">Collection</span></span>
<span class="line">assert coll <span class="token keyword">instanceof</span> <span class="token class-name">ArrayList</span></span>
<span class="line">assert coll<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span></span>
<span class="line">assert coll<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> ArrayList</span>
<span class="line"></span>
<span class="line">添加元素</span>
<span class="line">coll<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Python&quot;</span><span class="token punctuation">)</span></span>
<span class="line">coll <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Smalltalk&quot;</span></span>
<span class="line">coll<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;Perl&quot;</span></span>
<span class="line"></span>
<span class="line">查找元素</span>
<span class="line">assert coll<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">&quot;Java&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-4-3-linkedhashmap" tabindex="-1"><a class="header-anchor" href="#_2-4-3-linkedhashmap"><span>2.4.3 LinkedHashMap</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">def maps <span class="token operator">=</span> <span class="token punctuation">[</span>name<span class="token operator">:</span><span class="token string">&#39;zhufeng&#39;</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">10</span><span class="token punctuation">]</span></span>
<span class="line">maps<span class="token punctuation">.</span>home <span class="token operator">=</span> <span class="token string">&#39;beijing&#39;</span></span>
<span class="line">assert maps<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">3</span></span>
<span class="line">assert maps<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> LinkedHashMap</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-5-循环" tabindex="-1"><a class="header-anchor" href="#_2-5-循环"><span>2.5 循环</span></a></h3><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">  println i</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"><span class="token keyword">for</span><span class="token punctuation">(</span>i <span class="token keyword">in</span> <span class="token number">0.</span><span class="token number">.5</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">  println i</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-6-函数" tabindex="-1"><a class="header-anchor" href="#_2-6-函数"><span>2.6 函数</span></a></h3><h4 id="_2-6-1-定义一个函数" tabindex="-1"><a class="header-anchor" href="#_2-6-1-定义一个函数"><span>2.6.1 定义一个函数</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">最后一行的为返回值  不需要用<span class="token keyword">return</span> </span>
<span class="line"></span>
<span class="line">def <span class="token function">stage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line"></span>
<span class="line"><span class="token punctuation">}</span> </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-6-2-参数类型" tabindex="-1"><a class="header-anchor" href="#_2-6-2-参数类型"><span>2.6.2 参数类型</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">String <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arg1<span class="token punctuation">,</span>args2</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//无需指定参数类型</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">def  <span class="token function">nonReturnTypeFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">     last_line   <span class="token comment">//最后一行代码的执行结果就是本函数的返回值</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"><span class="token comment">//如果指定了函数返回类型，则可不必加def关键字来定义函数</span></span>
<span class="line">String  <span class="token function">getString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">   <span class="token keyword">return</span> <span class="token string">&quot;I am a string&quot;</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-7-闭包" tabindex="-1"><a class="header-anchor" href="#_2-7-闭包"><span>2.7 闭包</span></a></h3><ul><li>闭包是一种数据类型，它代表了一段可执行的代码</li><li>闭包是一个类型为<code>groovy.lang.Closure</code>的代码块</li><li>闭包可以赋值给变量，作为参数传递给方法，并且像普通方法一样来调用</li><li>闭包可以访问上下文的变量，函数不可以</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">def xxx <span class="token operator">=</span> <span class="token punctuation">{</span>paramters <span class="token operator">-</span><span class="token operator">&gt;</span> code<span class="token punctuation">}</span> </span>
<span class="line">def xxx <span class="token operator">=</span> <span class="token punctuation">{</span>无参数，纯code<span class="token punctuation">}</span>  这种<span class="token keyword">case</span>不需要<span class="token operator">-</span><span class="token operator">&gt;</span>符号</span>
<span class="line">\`</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-7-1-闭包格式" tabindex="-1"><a class="header-anchor" href="#_2-7-1-闭包格式"><span>2.7.1 闭包格式</span></a></h4><ul><li>闭包[closureParameters-&gt;] 是可选的，参数的类型也是可选的</li><li>如果我们不指定参数的类型，会由编译器自动推断。如果闭包只有一个参数，这个参数可以省略，我们可以直接使用it来访问该参数</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code class="language-text"><span class="line">{</span>
<span class="line">    [closureParameters -&gt; ] </span>
<span class="line">    statements </span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">def it1 <span class="token operator">=</span> <span class="token punctuation">{</span> it <span class="token operator">-</span><span class="token operator">&gt;</span> println it <span class="token punctuation">}</span></span>
<span class="line">def it2 <span class="token operator">=</span> <span class="token punctuation">{</span> name <span class="token operator">-</span><span class="token operator">&gt;</span> println name <span class="token punctuation">}</span></span>
<span class="line">def it3 <span class="token operator">=</span> <span class="token punctuation">{</span> String x<span class="token punctuation">,</span> int y <span class="token operator">-</span><span class="token operator">&gt;</span> println <span class="token string">&quot;\${x} &#39;s value is \${y}&quot;</span> <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token function">it1</span><span class="token punctuation">(</span><span class="token string">&#39;aaa&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">it2</span><span class="token punctuation">(</span><span class="token string">&#39;bbb&#39;</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">it3</span><span class="token punctuation">(</span><span class="token string">&#39;ccc&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-7-2-闭包返回值" tabindex="-1"><a class="header-anchor" href="#_2-7-2-闭包返回值"><span>2.7.2 闭包返回值</span></a></h4><ul><li>闭包总会返回一个值，返回值是闭包的最后一条语句的值(如果没有显式的return语句)</li></ul><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">def name2 <span class="token operator">=</span> <span class="token string">&#39;zhufeng&#39;</span></span>
<span class="line">def greeting <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token string">&#39;hello &#39;</span> <span class="token operator">+</span> name2</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">println <span class="token function">greeting</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-7-3-闭包作为方法参数" tabindex="-1"><a class="header-anchor" href="#_2-7-3-闭包作为方法参数"><span>2.7.3 闭包作为方法参数</span></a></h4><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line"></span>
<span class="line">Integer <span class="token function">increment</span><span class="token punctuation">(</span><span class="token parameter">Closure closure<span class="token punctuation">,</span> Integer count</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//闭包作为第一个参数</span></span>
<span class="line">  <span class="token function">closure</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> count</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">assert <span class="token function">increment</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">12</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-groovy实例" tabindex="-1"><a class="header-anchor" href="#_3-groovy实例"><span>3. Groovy实例</span></a></h2><div class="language-javascript line-numbers-mode" data-highlighter="prismjs" data-ext="js"><pre><code class="language-javascript"><span class="line">def <span class="token function">stage</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>closure</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    name<span class="token operator">+</span><span class="token function">closure</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">def r <span class="token operator">=</span> <span class="token function">stage</span><span class="token punctuation">(</span><span class="token string">&#39;Preparation&#39;</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">    <span class="token number">5</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line">println r <span class="token comment">//10</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,41)])])}const o=n(l,[["render",t]]),r=JSON.parse('{"path":"/strong/61.13.devops-groovy.html","title":"","lang":"en-US","frontmatter":{},"git":{"updatedTime":1681290319000,"contributors":[{"name":"yutao","username":"yutao","email":"642231346@qq.com","commits":1,"url":"https://github.com/yutao"}],"changelog":[{"hash":"f5ab8c9d34991ec274f7f652439afe5b2afb6147","time":1681290319000,"email":"642231346@qq.com","author":"yutao","message":"modify"}]},"filePathRelative":"strong/61.13.devops-groovy.md"}');export{o as comp,r as data};
